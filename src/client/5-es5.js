function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0Em7":function(e,t,n){var r,a;r=[n,t,n("tyNb"),n("7Egi"),n("ZQU4"),n("lC1S"),n("Q4kr"),n("DbYh"),n("vum2"),n("fXoL"),n("tyNb")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=[{path:"",children:[{path:"",children:[{path:"",component:r.AppearanceComponent},{path:"security",component:a.SecurityComponent},{path:"informationsources",component:i.InformationSourcesComponent},{path:"account",component:o.AccountComponent},{path:"api",component:c.ApiComponent},{path:"api-guide",component:s.ApiGuideComponent}]}]}],d=function e(){_classCallCheck(this,e)};t.AdminRoutingModule=d,d.\u0275mod=l.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=l.\u0275\u0275defineInjector({factory:function(e){return new(e||d)},imports:[[n.RouterModule.forChild(p)],n.RouterModule]})}).apply(t,r))||(e.exports=a)},"7Egi":function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("kt0X"),n("qCKp"),n("zY6w"),n("L5B3"),n("kU1M"),n("atpF"),n("7pIB"),n("DIoI"),n("CQUn"),n("fXoL"),n("kt0X"),n("CQUn"),n("3Pt+"),n("atpF"),n("1ATV"),n("R9Cn"),n("7pIB"),n("ofXK")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u,p,d,m,S,g,f,h,v,y,E){"use strict";function b(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"button",31),d.\u0275\u0275listener("click",(function(e){return d.\u0275\u0275restoreView(n),d.\u0275\u0275nextContext().removeLogo()})),d.\u0275\u0275text(2,"admin.BUTTON_RemoveLogo"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}function C(e,t){if(1&e&&d.\u0275\u0275element(0,"img",32),2&e){var n=d.\u0275\u0275nextContext();d.\u0275\u0275property("src",n.href,d.\u0275\u0275sanitizeUrl)}}function A(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"h5"),d.\u0275\u0275text(2,"Remove Custom CSS"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"button",33),d.\u0275\u0275listener("click",(function(e){return d.\u0275\u0275restoreView(n),d.\u0275\u0275nextContext().removeCss()})),d.\u0275\u0275text(4,"admin.TXT_RemoveCSS"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}}function x(e,t){1&e&&d.\u0275\u0275element(0,"div",34)}Object.defineProperty(t,"__esModule",{value:!0});var T=function(){function e(t,n,u){var p=this;_classCallCheck(this,e),this.locale=t,this.store=n,this.adminService=u,this.brandColor$=new a.Subject,this.colorErrorMessage="",this.href="",this.csshref="",this.showRemoveLogo=!1,this.logoUploader=new l.FileUploader({isHTML5:!0,allowedMimeType:["image/*","image/jpeg","image/png","image/bmp"],url:"/api/admin/logoblobux"}),this.cssUploader=new l.FileUploader({isHTML5:!0,allowedMimeType:["text/*","text/css","text/plain","text/html"],url:"/api/admin/customcss"}),this.unsubscribe=new a.Subject,this.model$=n.pipe(r.select(i.selectCompositeModel)),this.model$.pipe(c.takeUntil(this.unsubscribe)).subscribe((function(e){null!==e?(p.store.dispatch(o.setAppearanceFormFromCompositeModel({model:e})),p.showRemoveLogo=e.Settings.HasCustomLogo,p.csshref=e.CustomCssPath,p.href=e.LogoPath,p.href&&(p.href=p.href+"?decache="+Math.random())):p.store.dispatch(o.loadCompositeModel())})),this.appearanceFormState$=n.pipe(r.select(i.selectAppearanceFormState)),this.brandColor$.pipe(c.takeUntil(this.unsubscribe),c.debounceTime(50)).subscribe((function(e){p.store.dispatch(new s.SetValueAction(i.initialAppearanceFormState.controls.brandColor.id,e))}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.logoUploader.onCompleteItem=function(t,n,r,a){console.log(t,n,r,a);var i=JSON.parse(n);"OK"===i.status&&(e.href=i.href+"?decache="+Math.random(),e.showRemoveLogo=!0,e.store.dispatch(new u.ToastSuccess("")))},this.cssUploader.onCompleteItem=function(t,n,r,a){console.log(t,n,r,a);var i=JSON.parse(n);"OK"===i.status&&(e.csshref=i.href+"?decache="+Math.random(),e.store.dispatch(new u.ToastSuccess("")))}}},{key:"updateBrandColor",value:function(e){this.brandColor$.next(e)}},{key:"saveAppearance",value:function(){var e=this;this.appearanceFormState$.pipe(c.take(1),c.map((function(t){/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t.controls.brandColor.value)?(e.colorErrorMessage="",e.store.dispatch(o.saveAppearance({form:t.value})),e.store.dispatch(new u.ToastSuccess(""))):e.colorErrorMessage="Please enter a valid brand color value"}))).subscribe()}},{key:"uploadLogo",value:function(){this.href="",this.logoUploader.uploadAll()}},{key:"uploadCss",value:function(){this.csshref="",this.cssUploader.uploadAll()}},{key:"removeLogo",value:function(){var e=this;this.adminService.removeLogo().pipe(c.takeUntil(this.unsubscribe)).subscribe((function(){e.href="",e.showRemoveLogo=!1,e.store.dispatch(new u.ToastSuccess("")),e.saveAppearance()}))}},{key:"saveLogo",value:function(){this.saveAppearance()}},{key:"removeCss",value:function(){var e=this;this.adminService.removeCss().pipe(c.takeUntil(this.unsubscribe)).subscribe((function(){e.store.dispatch(new u.ToastSuccess("")),e.csshref=""}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),e}();t.AppearanceComponent=T,T.\u0275fac=function(e){return new(e||T)(d.\u0275\u0275directiveInject(n.L10N_LOCALE),d.\u0275\u0275directiveInject(m.Store),d.\u0275\u0275directiveInject(S.AdminService))},T.\u0275cmp=d.\u0275\u0275defineComponent({type:T,selectors:[["toc-admin-appearance"]],decls:75,vars:49,consts:[[1,"container"],[1,"card",3,"ngrxFormState"],[1,"section-heading"],["translate","",1,"btn","btn-success",3,"click"],["l10nTranslate","",1,"suffix"],[1,"row","horizontal-form"],[1,"col-3"],["l10nTranslate",""],[1,"col-9"],[1,"form-control",3,"ngrxFormControlState"],["translate","admin.TXT_Light","value","Light"],["translate","admin.TXT_Dark","value","Dark"],["ng-if","colorErrorMessage",1,"row","horizontal-form","has-error"],[1,"col-12"],[1,"row"],["translate","admin.TXT_Brand"],[1,"color-swatch"],["type","text",1,"form-control",3,"colorPicker","value","readonly","cpWidth","cpOutputFormat","cpPosition","colorPickerChange"],[1,"card"],["translate","common.SAVE_CHANGES",1,"btn","btn-success",3,"click"],["translate","admin.TXT_FooterDesc",1,"suffix"],["rows","2",1,"form-control",3,"ngrxFormControlState"],["type","file","ngf-max-size","5MB","accept","image/*","name","fileLogo","ng2FileSelect","",3,"uploader","onFileSelected"],["ng-show","model.showError",1,"alert-error"],[4,"ngIf"],[1,"col-2"],["style","max-width: 100%",3,"src",4,"ngIf"],["ng-click","saveColor()","translate","common.SAVE_CHANGES",1,"btn","btn-success"],["translate","admin.TXT_CustomCSSDesc",1,"suffix"],["type","file","ngf-max-size","5MB","accept","text/*","name","fileCss","ng2FileSelect","",3,"uploader","onFileSelected"],["class","col-md-3",4,"ngIf"],["translate","admin.BUTTON_RemoveLogo",1,"btn","btn-danger","btn-sm",3,"click"],[2,"max-width","100%",3,"src"],["translate","admin.TXT_RemoveCSS",1,"btn","btn-danger",3,"click"],[1,"col-md-3"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"form",1),d.\u0275\u0275pipe(2,"async"),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275text(4),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275elementStart(6,"button",3),d.\u0275\u0275listener("click",(function(e){return t.saveAppearance()})),d.\u0275\u0275text(7,"common.SAVE_CHANGES"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"div",4),d.\u0275\u0275text(9,"admin.TXT_Desc"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(10,"div",5),d.\u0275\u0275elementStart(11,"div",6),d.\u0275\u0275elementStart(12,"label",7),d.\u0275\u0275text(13,"admin.TXT_Theme"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"div",8),d.\u0275\u0275elementStart(15,"select",9),d.\u0275\u0275pipe(16,"async"),d.\u0275\u0275elementStart(17,"option",10),d.\u0275\u0275text(18,"admin.TXT_Light"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"option",11),d.\u0275\u0275text(20,"admin.TXT_Dark"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(21,"div",12),d.\u0275\u0275elementStart(22,"div",13),d.\u0275\u0275elementStart(23,"span"),d.\u0275\u0275text(24),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(25,"div",14),d.\u0275\u0275elementStart(26,"div",6),d.\u0275\u0275elementStart(27,"label",15),d.\u0275\u0275text(28,"admin.TXT_Brand"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(29,"div",8),d.\u0275\u0275element(30,"a",16),d.\u0275\u0275pipe(31,"async"),d.\u0275\u0275elementStart(32,"input",17),d.\u0275\u0275listener("colorPickerChange",(function(e){return t.updateBrandColor(e)})),d.\u0275\u0275pipe(33,"async"),d.\u0275\u0275pipe(34,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(35,"div",18),d.\u0275\u0275elementStart(36,"div",2),d.\u0275\u0275text(37),d.\u0275\u0275pipe(38,"translate"),d.\u0275\u0275elementStart(39,"button",19),d.\u0275\u0275listener("click",(function(e){return t.saveAppearance()})),d.\u0275\u0275text(40,"common.SAVE_CHANGES"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(41,"div",20),d.\u0275\u0275text(42,"admin.TXT_FooterDesc"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(43,"textarea",21),d.\u0275\u0275pipe(44,"async"),d.\u0275\u0275element(45,"br"),d.\u0275\u0275elementStart(46,"span"),d.\u0275\u0275text(47),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(48,"div",18),d.\u0275\u0275elementStart(49,"div",2),d.\u0275\u0275text(50),d.\u0275\u0275pipe(51,"translate"),d.\u0275\u0275elementStart(52,"button",19),d.\u0275\u0275listener("click",(function(e){return t.saveLogo()})),d.\u0275\u0275text(53," common.SAVE_CHANGES "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(54,"div",14),d.\u0275\u0275elementStart(55,"div",6),d.\u0275\u0275elementStart(56,"input",22),d.\u0275\u0275listener("onFileSelected",(function(e){return t.uploadLogo()})),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(57,"br"),d.\u0275\u0275element(58,"div",23),d.\u0275\u0275template(59,b,3,0,"div",24),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(60,"div",25),d.\u0275\u0275template(61,C,1,1,"img",26),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(62,"div",18),d.\u0275\u0275elementStart(63,"div",2),d.\u0275\u0275text(64),d.\u0275\u0275pipe(65,"translate"),d.\u0275\u0275elementStart(66,"button",27),d.\u0275\u0275text(67," common.SAVE_CHANGES "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(68,"div",28),d.\u0275\u0275text(69,"admin.TXT_CustomCSSDesc"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(70,"input",29),d.\u0275\u0275listener("onFileSelected",(function(e){return t.uploadCss()})),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(71,"br"),d.\u0275\u0275template(72,A,5,0,"div",24),d.\u0275\u0275element(73,"div",23),d.\u0275\u0275template(74,x,1,0,"div",30),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("ngrxFormState",d.\u0275\u0275pipeBind1(2,25,t.appearanceFormState$)),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind2(5,27,"admin.CUSTOMIZE_APPEARANCE",t.locale.language)," "),d.\u0275\u0275advance(11),d.\u0275\u0275property("ngrxFormControlState",d.\u0275\u0275pipeBind1(16,30,t.appearanceFormState$).controls.theme),d.\u0275\u0275advance(9),d.\u0275\u0275textInterpolate(t.colorErrorMessage),d.\u0275\u0275advance(6),d.\u0275\u0275styleProp("background-color",d.\u0275\u0275pipeBind1(31,32,t.appearanceFormState$).controls.brandColor.value||"#000000"),d.\u0275\u0275advance(2),d.\u0275\u0275styleProp("width",100,"px"),d.\u0275\u0275property("colorPicker",d.\u0275\u0275pipeBind1(33,34,t.appearanceFormState$).controls.brandColor.value)("value",d.\u0275\u0275pipeBind1(34,36,t.appearanceFormState$).controls.brandColor.value)("readonly",!1)("cpWidth",200)("cpOutputFormat","hex")("cpPosition","bottom"),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(38,38,"admin.TXT_Footer",t.locale.language)," "),d.\u0275\u0275advance(6),d.\u0275\u0275property("ngrxFormControlState",d.\u0275\u0275pipeBind1(44,41,t.appearanceFormState$).controls.footerText),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(t.colorErrorMessage),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(51,43,"admin.TXT_Logo",t.locale.language)," "),d.\u0275\u0275advance(6),d.\u0275\u0275property("uploader",t.logoUploader),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",t.showRemoveLogo),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.href),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(65,46,"admin.TXT_CustomCSS",t.locale.language)," "),d.\u0275\u0275advance(6),d.\u0275\u0275property("uploader",t.cssUploader),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.csshref),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.csshref))},directives:[g.\u0275angular_packages_forms_forms_y,g.NgControlStatusGroup,g.NgForm,f.NgrxFormDirective,f.NgrxStatusCssClassesDirective,h.L10nTranslateDirective,f.NgrxSelectViewAdapter,f.NgrxFormControlDirective,g.NgSelectOption,g.\u0275angular_packages_forms_forms_x,f.NgrxSelectMultipleOption,f.NgrxSelectOption,f.NgrxFallbackSelectOption,v.ColorPickerDirective,f.NgrxDefaultViewAdapter,y.FileSelectDirective,E.NgIf],pipes:[E.AsyncPipe,h.L10nTranslatePipe],styles:[".color-swatch[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:.75rem;border-radius:50%;vertical-align:middle}.color-swatch[_ngcontent-%COMP%], .color-swatch[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{display:inline-block}"]})}).apply(t,r))||(e.exports=a)},CQUn:function(e,t,n){var r,a;r=[n,t,n("tk/3"),n("fXoL"),n("tk/3")],void 0===(a=(function(e,t,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){_classCallCheck(this,e),this.http=t,this.API_PATH="/api/admin"}return _createClass(e,[{key:"loadAdminCompositeData",value:function(){return this.http.get("".concat(this.API_PATH,"/composite"))}},{key:"loadCompanyGroups",value:function(){return this.http.get("/api/security/availableentries")}},{key:"loadSecurityCharts",value:function(){return this.http.get("/api/security/charts")}},{key:"loadCacheSetting",value:function(){return this.http.get("".concat(this.API_PATH,"/disablecache"))}},{key:"saveAppearance",value:function(e){return this.http.post("".concat(this.API_PATH,"/settings"),{CustomColour:e.brandColor,CustomFooterText:e.footerText,CustomThemeName:e.theme})}},{key:"removeLogo",value:function(){return this.http.post("".concat(this.API_PATH,"/logo/remove"),{})}},{key:"removeCss",value:function(){return this.http.delete("".concat(this.API_PATH,"/customcss"))}},{key:"postCreators",value:function(e){return this.http.post("".concat(this.API_PATH,"/creators"),e)}},{key:"getPersonName",value:function(e){return this.http.get("/api/picker/personname/?id=".concat(encodeURIComponent(e)))}},{key:"addSecurityGroup",value:function(e){return this.http.post("/api/security/securitygroups",{primitive:e})}},{key:"removeSecurityGroup",value:function(e){return this.http.delete("/api/security/securitygroups/".concat(e))}},{key:"getSecurityCharts",value:function(){return this.http.get("/api/security/charts")}},{key:"addSecurityGroupEntry",value:function(e){return this.http.post("/api/security/securitygroupentry",e)}},{key:"removeSecurityGroupEntry",value:function(e){return this.http.delete("/api/security/securitygroupentry/".concat(e))}},{key:"saveSecurityChart",value:function(e){return this.http.post("/api/security/chartsecuritygroups/".concat(e.id),e)}},{key:"saveExternalUsersSetting",value:function(e){return this.http.post("/api/security/externalusers/".concat(e.id),Object.assign(Object.assign({},e),{viewGroupId:0,adminGroupId:0,denyGroupId:0}))}},{key:"saveGlobalExternalUsersSetting",value:function(e){return this.http.post("/api/security/externalusers/global",{areExternalUsersAllowed:e})}},{key:"saveAdminEmail",value:function(e,t){return this.http.post("".concat(this.API_PATH,"/adminemail"),{AdminEmail:e,CompanyName:t})}},{key:"saveCacheSetting",value:function(e){return this.http.post("".concat(this.API_PATH,"/disablecache"),{DisableCache:e})}},{key:"getInfoSource",value:function(e){return this.http.get("".concat(this.API_PATH,"/informationsource?sourceId=").concat(e))}},{key:"getSharePointLists",value:function(){return this.http.get("/api/sharepoint/alllists")}},{key:"getSharePointListFields",value:function(e){return this.http.get("/api/sharepoint/fields/".concat(e,"/Host"))}},{key:"saveInformationSource",value:function(e){return this.http.post("/api/admin/saveinformationsource",e)}},{key:"deleteInformationSource",value:function(e){return this.http.get("".concat(this.API_PATH,"/removeinformationsource?sourceId=").concat(e))}},{key:"testInformationSource",value:function(e){return this.http.get("/api/info/test?sourceId=".concat(e))}},{key:"loadApiKeys",value:function(){return this.http.get("".concat(this.API_PATH,"/apikeys"))}},{key:"createApiKey",value:function(){return this.http.post("".concat(this.API_PATH,"/apikeys"),{})}},{key:"revokeApiKey",value:function(e){return this.http.delete("".concat(this.API_PATH,"/apikeys/").concat(e))}}]),e}();t.AdminService=i,i.\u0275fac=function(e){return new(e||i)(r.\u0275\u0275inject(a.HttpClient))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac})}).apply(t,r))||(e.exports=a)},Cqpf:function(e,t,n){var r,a;r=[n,t,n("snw9"),n("L5B3"),n("qCKp"),n("kU1M"),n("DIoI"),n("CQUn"),n("fXoL"),n("snw9"),n("CQUn")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function e(t,c){var s=this;_classCallCheck(this,e),this.actions$=t,this.adminService=c,this.loadCompositeModel$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.loadCompositeModel),i.switchMap((function(){return s.adminService.loadAdminCompositeData().pipe(i.map((function(e){return r.loadCompositeModelSuccess({model:e})})))})),i.catchError((function(){return a.of(r.loadCompositeModelFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load page data")]})))})))})),this.loadCompanyGroups$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.loadCompanyGroups),i.switchMap((function(){return s.adminService.loadCompanyGroups().pipe(i.map((function(e){return r.loadCompanyGroupsSuccess({entries:e})})))})),i.catchError((function(){return a.of(r.loadCompanyGroupsFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load company groups list")]})))})))})),this.loadCharts$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.loadCharts),i.switchMap((function(){return s.adminService.loadSecurityCharts().pipe(i.map((function(e){return r.loadChartsSuccess({charts:e})})))})),i.catchError((function(){return a.of(r.loadChartsFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load charts list")]})))})))})),this.loadCacheSetting$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.loadCacheSetting),i.switchMap((function(){return s.adminService.loadCacheSetting().pipe(i.map((function(e){return r.loadCacheSettingSuccess({value:e})})),i.catchError((function(){return a.of(r.loadCacheSettingFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load cache setting")]})))})))})))})),this.saveAppearance$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveAppearance),i.switchMap((function(e){return s.adminService.saveAppearance(e.form).pipe(i.map((function(e){return r.saveAppearanceSuccess()})))})))})),this.saveCreators$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveCreators),i.switchMap((function(e){return s.adminService.postCreators(e.creators).pipe(i.map((function(e){return r.saveCreatorsSuccess({creators:e})})))})))})),this.createSecurityGroup$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.createSecurityGroup),i.mergeMap((function(e){return s.adminService.addSecurityGroup(e.name).pipe(i.map((function(e){return r.createSecurityGroupSuccess({group:e})})))})),i.catchError((function(){return a.of(r.createSecurityGroupFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Could not save security group")]})))})))})),this.removeSecurityGroup$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.removeSecurityGroup),i.mergeMap((function(e){return s.adminService.removeSecurityGroup(e.id).pipe(i.map((function(e){return r.removeSecurityGroupSuccess({groups:e})})))})),i.catchError((function(){return a.of(r.removeSecurityGroupFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to remove security group")]})))})))})),this.addSecurityGroupEntry$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.addSecurityGroupEntry),i.mergeMap((function(e){return s.adminService.addSecurityGroupEntry(e.entry).pipe(i.map((function(e){return r.addSecurityGroupEntrySuccess({group:e})})))})),i.catchError((function(){return a.of(r.addSecurityGroupEntryFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to add security group entry")]})))})))})),this.removeSecurityGroupEntry$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.removeSecurityGroupEntry),i.mergeMap((function(e){return s.adminService.removeSecurityGroupEntry(e.id).pipe(i.map((function(e){return r.removeSecurityGroupEntrySuccess({group:e})})))})),i.catchError((function(){return a.of(r.removeSecurityGroupEntryFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to remove security group entry")]})))})))})),this.saveGlobalExternalUsersSetting$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveGlobalExternalSetting),i.switchMap((function(e){return s.adminService.saveGlobalExternalUsersSetting(e.value).pipe(i.map((function(e){return r.saveGlobalExternalSettingSuccess({value:e})})))})),i.catchError((function(){return a.of(r.saveGlobalExternalSettingFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to save settings")]})))})))})),this.saveExternalUsersSetting$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveExternalUsersSetting),i.mergeMap((function(e){return s.adminService.saveExternalUsersSetting(e.chart).pipe(i.map((function(e){return r.saveExternalUsersSettingSuccess({chart:e})})),i.catchError((function(){return a.of(r.saveExternalUsersSettingFailure({chart:e.chart})).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to save settings")]})))})))})))})),this.saveSecurityChart$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveChart),i.mergeMap((function(e){return s.adminService.saveSecurityChart(e.chart).pipe(i.map((function(e){return r.saveChartSuccess({chart:e})})),i.catchError((function(){return a.of(r.saveChartFailure({chart:e.chart})).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to save settings")]})))})))})))})),this.saveAdminEmail$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveAdminEmail),i.mergeMap((function(e){return s.adminService.saveAdminEmail(e.AdminEmail,e.CompanyName).pipe(i.map((function(t){return r.saveAdminEmailSuccess({AdminEmail:e.AdminEmail,CompanyName:e.CompanyName})})),i.catchError((function(){return a.of(r.saveAdminEmailFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to save settings")]})))})))})))})),this.saveCacheSetting$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveCacheSetting),i.mergeMap((function(e){return s.adminService.saveCacheSetting(e.value).pipe(i.mergeMap((function(e){return[r.saveCacheSettingSuccess({value:e}),new o.ToastSuccess("")]})),i.catchError((function(){return a.of(r.saveCacheSettingFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to save settings")]})))})))})))})),this.loadInformationSource$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.loadInformationSource),i.mergeMap((function(e){return s.adminService.getInfoSource(e.sourceId).pipe(i.map((function(e){return r.loadInformationSourceSuccess({source:e})})),i.catchError((function(e){return a.of(r.loadInformationSourceFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load information source")]})))})))})))})),this.getSharePointLists$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.getSharePointLists),i.switchMap((function(){return s.adminService.getSharePointLists().pipe(i.map((function(e){return r.getSharePointListsSuccess({lists:e})})),i.catchError((function(e){return a.of(r.getSharePointListsFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load SharePoint lists")]})))})))})))})),this.getSharePointListFields$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.getSharePointListFields),i.mergeMap((function(e){return s.adminService.getSharePointListFields(e.id).pipe(i.map((function(e){return r.getSharePointListFieldsSuccess({fields:e})})),i.catchError((function(e){return a.of(r.getSharePointListFieldsFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load SharePoint list fields")]})))})))})))})),this.saveInformationSource$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.saveInformationSource),i.mergeMap((function(e){return s.adminService.saveInformationSource(e.source).pipe(i.mergeMap((function(t){return[r.saveInformationSourceSuccess({id:e.source.InformationSourceId,result:t}),r.loadCompositeModel()]})),i.catchError((function(e){return a.of(r.saveInformationSourceFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to save information source")]})))})))})))})),this.deleteInformationSource$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.deleteInformationSource),i.mergeMap((function(e){return s.adminService.deleteInformationSource(e.id).pipe(i.map((function(t){return r.deleteInformationSourceSuccess({id:e.id,result:t})})),i.catchError((function(e){return a.of(r.deleteInformationSourceFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to delete information source")]})))})))})))})),this.testInformationSource$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.testInformationSource),i.switchMap((function(e){return s.adminService.testInformationSource(e.id).pipe(i.mergeMap((function(e){var t=[r.testInformationSourceSuccess({result:e})];return e.startsWith("ERROR")?t.push(new o.ToastError(e)):t.push(new o.ToastSuccess(e)),t})),i.catchError((function(e){return a.of(r.testInformationSourceFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to test information source")]})))})))})))})),this.loadApiKeys$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.loadApiKeys),i.switchMap((function(e){return s.adminService.loadApiKeys().pipe(i.map((function(e){return r.loadApiKeysSuccess({apiKeys:e})})),i.catchError((function(e){return a.of(r.loadApiKeysFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to load API keys")]})))})))})))})),this.createApiKey$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.createApiKey),i.switchMap((function(e){return s.adminService.createApiKey().pipe(i.map((function(e){return r.createApiKeySuccess({apiKey:e})})),i.catchError((function(e){return a.of(r.createApiKeyFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to create an API key")]})))})))})))})),this.revokeApiKey$=n.createEffect((function(){return s.actions$.pipe(n.ofType(r.revokeApiKey),i.switchMap((function(e){return s.adminService.revokeApiKey(e.id).pipe(i.map((function(t){return r.revokeApiKeySuccess({id:e.id})})),i.catchError((function(e){return a.of(r.revokeApiKeyFailure()).pipe(i.mergeMap((function(e){return[e,new o.ToastError("Failed to revoke an API key")]})))})))})))}))};t.AdminEffects=p,p.\u0275fac=function(e){return new(e||p)(s.\u0275\u0275inject(l.Actions),s.\u0275\u0275inject(u.AdminService))},p.\u0275prov=s.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}).apply(t,r))||(e.exports=a)},DbYh:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("Z2nh"),n("zY6w"),n("L5B3"),n("qCKp"),n("kt0X"),n("soiQ"),n("DIoI"),n("fXoL"),n("kt0X"),n("ofXK"),n("tyNb"),n("Dvla"),n("Mfq2"),n("1ATV")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u,p,d,m,S,g,f){"use strict";function h(e,t){1&e&&(u.\u0275\u0275elementStart(0,"span"),u.\u0275\u0275text(1,"******"),u.\u0275\u0275elementEnd())}function v(e,t){if(1&e){var n=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"button",23,24),u.\u0275\u0275listener("cbOnSuccess",(function(e){return u.\u0275\u0275restoreView(n),u.\u0275\u0275reference(1).show()}))("mouseleave",(function(e){return u.\u0275\u0275restoreView(n),u.\u0275\u0275reference(1).hide()})),u.\u0275\u0275pipe(2,"translate"),u.\u0275\u0275element(3,"i",25),u.\u0275\u0275elementEnd()}if(2&e){var r=u.\u0275\u0275nextContext().$implicit,a=u.\u0275\u0275nextContext();u.\u0275\u0275propertyInterpolate("tooltip",u.\u0275\u0275pipeBind2(2,2,"UXChart.TXT_Clipboard",a.locale.language)),u.\u0275\u0275property("cbContent",r.Value)}}function y(e,t){if(1&e&&(u.\u0275\u0275elementStart(0,"span",26),u.\u0275\u0275pipe(1,"translate"),u.\u0275\u0275element(2,"i",27),u.\u0275\u0275elementEnd()),2&e){var n=u.\u0275\u0275nextContext(2);u.\u0275\u0275propertyInterpolate("tooltip",u.\u0275\u0275pipeBind2(1,1,n.Resources.AdminStrings.TXT.ValueDisplayWarning,n.locale.language))}}function E(e,t){if(1&e){var n=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"tr"),u.\u0275\u0275elementStart(1,"th",18),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"td"),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"td"),u.\u0275\u0275template(6,h,2,0,"span",19),u.\u0275\u0275text(7),u.\u0275\u0275template(8,v,4,5,"button",20),u.\u0275\u0275template(9,y,3,4,"span",21),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(10,"td"),u.\u0275\u0275text(11),u.\u0275\u0275pipe(12,"date"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(13,"td"),u.\u0275\u0275elementStart(14,"button",22),u.\u0275\u0275listener("click",(function(e){u.\u0275\u0275restoreView(n);var r=t.$implicit;return u.\u0275\u0275nextContext().revoke(r.Id)})),u.\u0275\u0275text(15),u.\u0275\u0275pipe(16,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,a=t.index,i=u.\u0275\u0275nextContext();u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(a+1),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(r.Prefix),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",!r.Value),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1(" ",r.Value," "),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.Value),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.Value),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(12,8,r.IssuedDateTime,"short")),u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(16,11,i.Resources.AdminStrings.BTN.Revoke,i.locale.language))}}Object.defineProperty(t,"__esModule",{value:!0});var b=function(){function e(t,n){_classCallCheck(this,e),this.locale=t,this.store=n,this.Resources=r,this.unsubscribe=new o.Subject,this.apiKeys$=this.store.pipe(c.select(a.selectApiKeys))}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(i.loadApiKeys())}},{key:"createApiKey",value:function(){this.store.dispatch(i.createApiKey())}},{key:"revoke",value:function(e){var t={cancelButtonText:r.Strings.BUTTON.Cancel,text:r.AdminStrings.DLG.ConfirmRevokeTxt,title:r.AdminStrings.DLG.ConfirmRevokeTitle,successButtonText:r.AdminStrings.BTN.Revoke,successAction:i.revokeApiKey({id:e})};this.store.dispatch(new l.DialogShow({dialogName:s.SharedModals.ConfirmationDialog,options:{options:t}}))}}]),e}();t.ApiComponent=b,b.\u0275fac=function(e){return new(e||b)(u.\u0275\u0275directiveInject(n.L10N_LOCALE),u.\u0275\u0275directiveInject(p.Store))},b.\u0275cmp=u.\u0275\u0275defineComponent({type:b,selectors:[["toc-api"]],decls:71,vars:47,consts:[[1,"container"],[1,"card"],[1,"btn","btn-warning","col-2","mb-2",3,"click"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","table"],[1,"col-sm-6"],["href","/swagger","target","_blank"],["routerLink","/admin/api-guide","target","_blank"],[1,"row"],[1,"col-sm-4"],["href","https://www.nuget.org/packages/TocApiLibrary"],["src","/img/netlogo.png"],["href","https://pypi.org/project/tocapilibrarypython/"],["width","128","height","128","src","/img/python.png"],["href","https://www.npmjs.com/package/tocapilibraryts"],["src","/img/typescriptlogo.png"],["scrope","row"],[4,"ngIf"],["class","btn btn-sm","ngxClipboard","","triggers","",3,"cbContent","tooltip","cbOnSuccess","mouseleave",4,"ngIf"],["class","ml-2",3,"tooltip",4,"ngIf"],[1,"btn","btn-danger",3,"click"],["ngxClipboard","","triggers","",1,"btn","btn-sm",3,"cbContent","tooltip","cbOnSuccess","mouseleave"],["cpBtn","bs-tooltip"],[1,"fa","fa-clipboard"],[1,"ml-2",3,"tooltip"],[1,"fa","fa-info-circle"]],template:function(e,t){1&e&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"div",1),u.\u0275\u0275elementStart(2,"h3"),u.\u0275\u0275text(3),u.\u0275\u0275pipe(4,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"p"),u.\u0275\u0275text(6),u.\u0275\u0275pipe(7,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(8,"button",2),u.\u0275\u0275listener("click",(function(e){return t.createApiKey()})),u.\u0275\u0275text(9),u.\u0275\u0275pipe(10,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"table",3),u.\u0275\u0275elementStart(12,"thead"),u.\u0275\u0275elementStart(13,"tr"),u.\u0275\u0275elementStart(14,"th",4),u.\u0275\u0275text(15,"#"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(16,"th",4),u.\u0275\u0275text(17),u.\u0275\u0275pipe(18,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(19,"th",4),u.\u0275\u0275text(20),u.\u0275\u0275pipe(21,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"th",4),u.\u0275\u0275text(23),u.\u0275\u0275pipe(24,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(25,"th",4),u.\u0275\u0275text(26),u.\u0275\u0275pipe(27,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"tbody"),u.\u0275\u0275template(29,E,17,14,"tr",5),u.\u0275\u0275pipe(30,"async"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(31,"div",1),u.\u0275\u0275elementStart(32,"h3"),u.\u0275\u0275text(33),u.\u0275\u0275pipe(34,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(35,"br"),u.\u0275\u0275elementStart(36,"div",6),u.\u0275\u0275elementStart(37,"div",7),u.\u0275\u0275elementStart(38,"a",8),u.\u0275\u0275text(39),u.\u0275\u0275pipe(40,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(41,"div",7),u.\u0275\u0275elementStart(42,"a",9),u.\u0275\u0275text(43),u.\u0275\u0275pipe(44,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(45,"div",1),u.\u0275\u0275elementStart(46,"h3"),u.\u0275\u0275text(47),u.\u0275\u0275pipe(48,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(49,"br"),u.\u0275\u0275elementStart(50,"div",0),u.\u0275\u0275elementStart(51,"div",10),u.\u0275\u0275elementStart(52,"div",11),u.\u0275\u0275elementStart(53,"h2"),u.\u0275\u0275text(54,".Net"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"div",11),u.\u0275\u0275elementStart(56,"h2"),u.\u0275\u0275text(57,"Python"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(58,"div",11),u.\u0275\u0275elementStart(59,"h2"),u.\u0275\u0275text(60,"Typescript"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(61,"div",10),u.\u0275\u0275elementStart(62,"div",11),u.\u0275\u0275elementStart(63,"a",12),u.\u0275\u0275element(64,"img",13),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(65,"div",11),u.\u0275\u0275elementStart(66,"a",14),u.\u0275\u0275element(67,"img",15),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(68,"div",11),u.\u0275\u0275elementStart(69,"a",16),u.\u0275\u0275element(70,"img",17),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&e&&(u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(4,12,t.Resources.AdminStrings.TXT.ManageApiKeys,t.locale.language)),u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(7,15,t.Resources.AdminStrings.TXT.ManageApiKeysDesc,t.locale.language)),u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(10,18,t.Resources.AdminStrings.BTN.AddApiKey,t.locale.language)),u.\u0275\u0275advance(8),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(18,21,t.Resources.AdminStrings.TXT.Prefix,t.locale.language)),u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(21,24,t.Resources.AdminStrings.TXT.Value,t.locale.language)),u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(24,27,t.Resources.AdminStrings.TXT.IssuedAt,t.locale.language)),u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(27,30,t.Resources.AdminStrings.TXT.Revoke,t.locale.language)),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngForOf",u.\u0275\u0275pipeBind1(30,33,t.apiKeys$)),u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(34,35,t.Resources.AdminStrings.TXT.GettingStarted,t.locale.language)),u.\u0275\u0275advance(6),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(40,38,t.Resources.AdminStrings.LNK.ApiDocumentationLink,t.locale.language)),u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(44,41,t.Resources.AdminStrings.LNK.ApiTutorialLink,t.locale.language)),u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind2(48,44,t.Resources.AdminStrings.TXT.ClientLibraries,t.locale.language)))},directives:[d.NgForOf,m.RouterLinkWithHref,d.NgIf,S.ClipboardDirective,g.TooltipDirective],pipes:[f.L10nTranslatePipe,d.AsyncPipe,d.DatePipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},L5B3:function(e,t,n){var r,a;r=[n,t,n("kt0X")],void 0===(a=(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCompositeModel=n.createAction("[Admin] Load composite model"),t.loadCompositeModelSuccess=n.createAction("[Admin] Load composite model success",n.props()),t.loadCompositeModelFailure=n.createAction("[Admin] Load composite model failure"),t.loadCompanyGroups=n.createAction("[Admin] Load company groups"),t.loadCompanyGroupsSuccess=n.createAction("[Admin] Load company groups success",n.props()),t.loadCompanyGroupsFailure=n.createAction("[Admin] Load company groups failure"),t.loadCharts=n.createAction("[Admin] Load charts"),t.loadChartsSuccess=n.createAction("[Admin] Load charts success",n.props()),t.loadChartsFailure=n.createAction("[Admin] Load charts failure"),t.loadCacheSetting=n.createAction("[Admin] Load cache setting"),t.loadCacheSettingSuccess=n.createAction("[Admin] Load cache setting success",n.props()),t.loadCacheSettingFailure=n.createAction("[Admin] Load cache setting failure"),t.setAppearanceFormFromCompositeModel=n.createAction("[Admin] Set appearance form from model",n.props()),t.saveAppearance=n.createAction("[Admin] Save appearance",n.props()),t.saveAppearanceFailure=n.createAction("[Admin] Save appearance failure"),t.saveAppearanceSuccess=n.createAction("[Admin] Save appearance success"),t.saveCreators=n.createAction("[Admin] Save chart creators",n.props()),t.saveCreatorsSuccess=n.createAction("[Admin] Save chart creators success",n.props()),t.saveCreatorsFailure=n.createAction("[Admin] Save chart creators failure"),t.createSecurityGroup=n.createAction("[Admin] Create security group",n.props()),t.createSecurityGroupSuccess=n.createAction("[Admin] Create security group success",n.props()),t.createSecurityGroupFailure=n.createAction("[Admin] Create security group failure"),t.removeSecurityGroup=n.createAction("[Admin] Remove security group",n.props()),t.removeSecurityGroupSuccess=n.createAction("[Admin] Remove security group success",n.props()),t.removeSecurityGroupFailure=n.createAction("[Admin] Remove security group failure"),t.addSecurityGroupEntry=n.createAction("[Admin] Add security group entry",n.props()),t.addSecurityGroupEntrySuccess=n.createAction("[Admin] Add security group entry success",n.props()),t.addSecurityGroupEntryFailure=n.createAction("[Admin] Add security group entry failure"),t.removeSecurityGroupEntry=n.createAction("[Admin] Remove security group entry",n.props()),t.removeSecurityGroupEntrySuccess=n.createAction("[Admin] Remove security group entry success",n.props()),t.removeSecurityGroupEntryFailure=n.createAction("[Admin] Remove security group entry failure"),t.saveGlobalExternalSetting=n.createAction("[Admin] Save global external users setting",n.props()),t.saveGlobalExternalSettingSuccess=n.createAction("[Admin] Save global external users setting success",n.props()),t.saveGlobalExternalSettingFailure=n.createAction("[Admin] Save global external users setting failure"),t.saveExternalUsersSetting=n.createAction("[Admin] Save external users setting",n.props()),t.saveExternalUsersSettingSuccess=n.createAction("[Admin] Save external users setting success",n.props()),t.saveExternalUsersSettingFailure=n.createAction("[Admin] Save external users setting failure",n.props()),t.saveChart=n.createAction("[Admin] Save security chart",n.props()),t.saveChartSuccess=n.createAction("[Admin] Save security chart success",n.props()),t.saveChartFailure=n.createAction("[Admin] Save security chart failure",n.props()),t.saveAdminEmail=n.createAction("[Admin] Save admin email",n.props()),t.saveAdminEmailSuccess=n.createAction("[Admin] Save admin email success",n.props()),t.saveAdminEmailFailure=n.createAction("[Admin] Save admin email failure"),t.saveCacheSetting=n.createAction("[Admin] Save cache setting",n.props()),t.saveCacheSettingSuccess=n.createAction("[Admin] Save cache setting success",n.props()),t.saveCacheSettingFailure=n.createAction("[Admin] Save cache setting failure"),t.loadInformationSource=n.createAction("[Admin] Load information source",n.props()),t.loadInformationSourceSuccess=n.createAction("[Admin] Load information source success",n.props()),t.loadInformationSourceFailure=n.createAction("[Admin] Load information source failure"),t.getSharePointLists=n.createAction("[Admin] Get SP lists"),t.getSharePointListsSuccess=n.createAction("[Admin] Get SP lists success",n.props()),t.getSharePointListsFailure=n.createAction("[Admin] Get SP lists failure"),t.getSharePointListFields=n.createAction("[Admin] Get SP list fields",n.props()),t.getSharePointListFieldsSuccess=n.createAction("[Admin] Get SP list fields success",n.props()),t.getSharePointListFieldsFailure=n.createAction("[Admin] Get SP list fields failure"),t.saveInformationSource=n.createAction("[Admin] Save information source",n.props()),t.saveInformationSourceSuccess=n.createAction("[Admin] Save information source success",n.props()),t.saveInformationSourceFailure=n.createAction("[Admin] Save information source failure"),t.deleteInformationSource=n.createAction("[Admin] Delete information source",n.props()),t.deleteInformationSourceSuccess=n.createAction("[Admin] Delete information source success",n.props()),t.deleteInformationSourceFailure=n.createAction("[Admin] Delete information source failure"),t.testInformationSource=n.createAction("[Admin] Test information source",n.props()),t.testInformationSourceSuccess=n.createAction("[Admin] Test information source success",n.props()),t.testInformationSourceFailure=n.createAction("[Admin] Test information source failure"),t.clearSavedSourceId=n.createAction("[Admin] Clear saved source id"),t.loadApiKeys=n.createAction("[Admin] Load API keys"),t.loadApiKeysSuccess=n.createAction("[Admin] Load API keys success",n.props()),t.loadApiKeysFailure=n.createAction("[Admin] Load API keys failure"),t.createApiKey=n.createAction("[Admin] Create API key"),t.createApiKeySuccess=n.createAction("[Admin] Create API key success",n.props()),t.createApiKeyFailure=n.createAction("[Admin] Create API key failure"),t.revokeApiKey=n.createAction("[Admin] Revoke API key",n.props()),t.revokeApiKeySuccess=n.createAction("[Admin] Revoke API key success",n.props()),t.revokeApiKeyFailure=n.createAction("[Admin] Revoke API key failure")}).apply(t,r))||(e.exports=a)},Q4kr:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("Z2nh"),n("zY6w"),n("L5B3"),n("qCKp"),n("kt0X"),n("kU1M"),n("soiQ"),n("DIoI"),n("fXoL"),n("kt0X"),n("1ATV"),n("3Pt+"),n("ofXK")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u,p,d,m,S,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(t,n){var l=this;_classCallCheck(this,e),this.locale=t,this.store=n,this.Resources=r,this.adminEmail="",this.companyName="",this.unsubscribe=new o.Subject,this.disableCacheSetting$=this.store.pipe(c.select(a.selectDisableCacheSetting)),this.disableCacheSetting$.pipe(s.takeUntil(this.unsubscribe)).subscribe((function(e){null===e&&l.store.dispatch(i.loadCacheSetting())})),this.model$=n.pipe(c.select(a.selectCompositeModel)),this.model$.pipe(s.takeUntil(this.unsubscribe)).subscribe((function(e){null!==e?(l.adminEmail=e.AdminEmailAndCompanyName.AdminEmail,l.companyName=e.AdminEmailAndCompanyName.CompanyName):l.store.dispatch(i.loadCompositeModel())}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"saveCacheSetting",value:function(e){this.store.dispatch(i.saveCacheSetting({value:e}))}},{key:"saveAdminEmail",value:function(){this.store.dispatch(i.saveAdminEmail({AdminEmail:this.adminEmail,CompanyName:this.companyName}))}},{key:"deleteAccount",value:function(){this.store.dispatch(new u.DialogShow({dialogName:l.SharedModals.ConfirmationDialog,options:{options:{cancelButtonText:r.Strings.BUTTON.Cancel,text:r.Strings.TXT.DeleteAccountConfirmationText,title:r.Strings.TXT.DeleteAccountConfirmationDialogTitle,successButtonText:r.Strings.BTN.DeleteAccountConfirmation,callback:function(){document.getElementById("delete-account-form").submit()}}}}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),e}();t.AccountComponent=f,f.\u0275fac=function(e){return new(e||f)(p.\u0275\u0275directiveInject(n.L10N_LOCALE),p.\u0275\u0275directiveInject(d.Store))},f.\u0275cmp=p.\u0275\u0275defineComponent({type:f,selectors:[["toc-admin-account"]],decls:52,vars:49,consts:[[1,"container"],[1,"card"],[1,"section-heading"],["ng-disabled","saving","translate","common.SAVE_CHANGES",1,"btn","btn-success",3,"click"],[1,"suffix"],["type","text","ng-disabled","saving",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","horizontal-form"],[1,"col"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customCheck1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customCheck1",1,"custom-control-label"],["id","delete-account-button-ng",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-md-12"],["id","delete-account-form","method","POST","action","/account/delete"],[1,"alert","alert-danger",2,"padding","5px"]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275elementStart(1,"div",1),p.\u0275\u0275elementStart(2,"div",2),p.\u0275\u0275text(3),p.\u0275\u0275pipe(4,"translate"),p.\u0275\u0275elementStart(5,"button",3),p.\u0275\u0275listener("click",(function(e){return t.saveAdminEmail()})),p.\u0275\u0275text(6,"Save Changes"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(7,"div",4),p.\u0275\u0275text(8),p.\u0275\u0275pipe(9,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(10,"input",5),p.\u0275\u0275listener("ngModelChange",(function(e){return t.companyName=e})),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"div",1),p.\u0275\u0275elementStart(12,"div",2),p.\u0275\u0275text(13),p.\u0275\u0275pipe(14,"translate"),p.\u0275\u0275elementStart(15,"button",3),p.\u0275\u0275listener("click",(function(e){return t.saveAdminEmail()})),p.\u0275\u0275text(16,"Save Changes"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(17,"div",4),p.\u0275\u0275text(18),p.\u0275\u0275pipe(19,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(20,"input",5),p.\u0275\u0275listener("ngModelChange",(function(e){return t.adminEmail=e})),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(21,"div",1),p.\u0275\u0275elementStart(22,"div",2),p.\u0275\u0275text(23),p.\u0275\u0275pipe(24,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(25,"div",4),p.\u0275\u0275text(26),p.\u0275\u0275pipe(27,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(28,"div",6),p.\u0275\u0275elementStart(29,"div",7),p.\u0275\u0275elementStart(30,"div",8),p.\u0275\u0275elementStart(31,"input",9),p.\u0275\u0275listener("ngModelChange",(function(e){return t.saveCacheSetting(e)})),p.\u0275\u0275pipe(32,"async"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(33,"label",10),p.\u0275\u0275text(34),p.\u0275\u0275pipe(35,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(36,"div",1),p.\u0275\u0275elementStart(37,"div",2),p.\u0275\u0275text(38),p.\u0275\u0275pipe(39,"translate"),p.\u0275\u0275elementStart(40,"button",11),p.\u0275\u0275listener("click",(function(e){return t.deleteAccount()})),p.\u0275\u0275text(41),p.\u0275\u0275pipe(42,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(43,"div",4),p.\u0275\u0275text(44),p.\u0275\u0275pipe(45,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(46,"div",12),p.\u0275\u0275elementStart(47,"div",13),p.\u0275\u0275element(48,"form",14),p.\u0275\u0275elementStart(49,"p",15),p.\u0275\u0275text(50),p.\u0275\u0275pipe(51,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind2(4,14,"admin.TXT_Company",t.locale.language)," "),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(9,17,"admin.TXT_CompanyDesc",t.locale.language)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngModel",t.companyName),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind2(14,20,"admin.TXT_Admin",t.locale.language)," "),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(19,23,"admin.TXT_AdminDesc",t.locale.language)),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngModel",t.adminEmail),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(24,26,"admin.TXT_Data",t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(27,29,"admin.TXT_DataDesc",t.locale.language)),p.\u0275\u0275advance(5),p.\u0275\u0275property("ngModel",p.\u0275\u0275pipeBind1(32,32,t.disableCacheSetting$)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(35,34,"admin.TXT_DataLab",t.locale.language)),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind2(39,37,"admin.TXT_Delete",t.locale.language)," "),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(42,40,"admin.TXT_Delete",t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(45,43,"admin.TXT_DeleteDesc",t.locale.language)),p.\u0275\u0275advance(6),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind2(51,46,"admin.TXT_DeleteDesc2",t.locale.language)," "))},directives:[m.L10nTranslateDirective,S.DefaultValueAccessor,S.NgControlStatus,S.NgModel,S.CheckboxControlValueAccessor,S.\u0275angular_packages_forms_forms_y,S.NgControlStatusGroup,S.NgForm],pipes:[m.L10nTranslatePipe,g.AsyncPipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},ZQU4:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("kt0X"),n("zY6w"),n("L5B3"),n("qCKp"),n("Z2nh"),n("kU1M"),n("jfTb"),n("CQUn"),n("jhN1"),n("fXoL"),n("kt0X"),n("jfTb"),n("CQUn"),n("jhN1"),n("1ATV"),n("3Pt+"),n("qCdp"),n("ofXK"),n("atpF"),n("pga3")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u,p,d,m,S,g,f,h,v,y,E,b,C){"use strict";function A(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"li",42),d.\u0275\u0275elementStart(1,"span"),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"button",43),d.\u0275\u0275listener("click",(function(e){d.\u0275\u0275restoreView(n);var r=t.$implicit;return d.\u0275\u0275nextContext().removeCreator(r.id)})),d.\u0275\u0275text(4,"\xd7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(r.name)}}function x(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"option",44),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;d.\u0275\u0275property("ngValue",n),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",n.Name,"")}}function T(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",45),d.\u0275\u0275listener("click",(function(e){d.\u0275\u0275restoreView(n);var t=d.\u0275\u0275nextContext();return t.removeSecurityGroup(t.selectedSecurityGroup.Id)})),d.\u0275\u0275element(1,"i",46),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd()}if(2&e){var r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(3,1,"admin.TXT_RemoveGroup",r.locale.language)," ")}}function I(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"option",44),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;d.\u0275\u0275property("ngValue",n),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",n.value,"")}}function k(e,t){1&e&&(d.\u0275\u0275elementStart(0,"li",56),d.\u0275\u0275text(1,"admin.TXT_None"),d.\u0275\u0275elementEnd())}function w(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"li",57),d.\u0275\u0275text(1),d.\u0275\u0275elementStart(2,"button",43),d.\u0275\u0275listener("click",(function(e){d.\u0275\u0275restoreView(n);var r=t.$implicit;return d.\u0275\u0275nextContext(2).removeSecurityGroupEntry(r.Id)})),d.\u0275\u0275text(3,"\xd7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1("",r.UserName," ")}}function M(e,t){1&e&&(d.\u0275\u0275elementStart(0,"li",58),d.\u0275\u0275text(1," admin.TXT_NoGroups"),d.\u0275\u0275elementEnd())}function G(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"li",42),d.\u0275\u0275text(1),d.\u0275\u0275elementStart(2,"button",43),d.\u0275\u0275listener("click",(function(e){d.\u0275\u0275restoreView(n);var r=t.$implicit;return d.\u0275\u0275nextContext(2).removeSecurityGroupEntry(r.Id)})),d.\u0275\u0275text(3,"\xd7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",r.GroupName," ")}}function P(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",47),d.\u0275\u0275elementStart(1,"div",4),d.\u0275\u0275elementStart(2,"div",14),d.\u0275\u0275elementStart(3,"b",48),d.\u0275\u0275text(4,"Add Users to Security Group"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"div",14),d.\u0275\u0275elementStart(6,"b",49),d.\u0275\u0275text(7," Add Groups to Security Group"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"div",4),d.\u0275\u0275elementStart(9,"div",14),d.\u0275\u0275elementStart(10,"input",6),d.\u0275\u0275listener("ngModelChange",(function(e){return d.\u0275\u0275restoreView(n),d.\u0275\u0275nextContext().securityUserPickerString=e}))("typeaheadOnSelect",(function(e){return d.\u0275\u0275restoreView(n),d.\u0275\u0275nextContext().onSelectSecurityPerson(e)})),d.\u0275\u0275pipe(11,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(12,"p"),d.\u0275\u0275element(13,"div",50),d.\u0275\u0275elementStart(14,"button",7),d.\u0275\u0275listener("click",(function(e){return d.\u0275\u0275restoreView(n),d.\u0275\u0275nextContext().addToSecurityGroup("user")})),d.\u0275\u0275element(15,"i",8),d.\u0275\u0275text(16),d.\u0275\u0275pipe(17,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"div",14),d.\u0275\u0275elementStart(19,"select",19),d.\u0275\u0275listener("ngModelChange",(function(e){return d.\u0275\u0275restoreView(n),d.\u0275\u0275nextContext().addedGroup=e})),d.\u0275\u0275elementStart(20,"option",44),d.\u0275\u0275text(21),d.\u0275\u0275pipe(22,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(23,I,2,2,"option",21),d.\u0275\u0275pipe(24,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(25,"p"),d.\u0275\u0275element(26,"div",50),d.\u0275\u0275elementStart(27,"button",7),d.\u0275\u0275listener("click",(function(e){return d.\u0275\u0275restoreView(n),d.\u0275\u0275nextContext().addToSecurityGroup("group")})),d.\u0275\u0275element(28,"i",8),d.\u0275\u0275text(29),d.\u0275\u0275pipe(30,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(31,"p"),d.\u0275\u0275elementStart(32,"div",4),d.\u0275\u0275elementStart(33,"div",14),d.\u0275\u0275elementStart(34,"b",51),d.\u0275\u0275text(35,"Users in Security Group"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(36,"ul",10),d.\u0275\u0275template(37,k,2,0,"li",52),d.\u0275\u0275template(38,w,4,1,"li",53),d.\u0275\u0275pipe(39,"callback"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(40,"div",14),d.\u0275\u0275elementStart(41,"b",54),d.\u0275\u0275text(42,"Groups in Security Group"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(43,"ul",10),d.\u0275\u0275template(44,M,2,0,"li",55),d.\u0275\u0275template(45,G,4,1,"li",11),d.\u0275\u0275pipe(46,"callback"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){var r,a=d.\u0275\u0275nextContext(),i=null==(r=d.\u0275\u0275pipeBind1(24,27,a.availableEntries$))?null:r.groups;d.\u0275\u0275advance(10),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind2(11,18,a.Resources.AuditStrings.SelectStartingPersonPlaceholder,a.locale.language)),d.\u0275\u0275property("ngModel",a.securityUserPickerString)("typeahead",a.securityUserPickerSource$)("typeaheadAsync",!0)("typeaheadScrollable",!0)("typeaheadOptionsInScrollableView",8),d.\u0275\u0275advance(4),d.\u0275\u0275property("disabled",null===a.addedUser),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(17,21,"admin.TXT_AddUser",a.locale.language),""),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",a.addedGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngValue",null),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(22,24,"admin.TXT_SelectAGroup",a.locale.language)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",i),d.\u0275\u0275advance(4),d.\u0275\u0275property("disabled",null===a.addedGroup),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(30,29,"admin.TXT_AddGroup",a.locale.language),""),d.\u0275\u0275advance(8),d.\u0275\u0275property("ngIf",!a.hasItems("user")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",d.\u0275\u0275pipeBind2(39,32,a.selectedSecurityGroup.SecurityGroupEntries,a.userEntry)),d.\u0275\u0275advance(6),d.\u0275\u0275property("ngIf",!a.hasItems("group")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",d.\u0275\u0275pipeBind2(46,35,a.selectedSecurityGroup.SecurityGroupEntries,a.groupEntry))}}function _(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"option",44),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;d.\u0275\u0275property("ngValue",n.Id),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",n.Name,"")}}function F(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"option",44),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;d.\u0275\u0275property("ngValue",n.Id),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",n.Name,"")}}function O(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"option",44),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;d.\u0275\u0275property("ngValue",n.Id),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",n.Name,"")}}function L(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"tr"),d.\u0275\u0275elementStart(1,"td"),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"td"),d.\u0275\u0275elementStart(4,"select",59),d.\u0275\u0275listener("ngModelChange",(function(e){d.\u0275\u0275restoreView(n);var r=t.$implicit;return d.\u0275\u0275nextContext().saveChart(r,"viewGroupId",e)})),d.\u0275\u0275pipe(5,"async"),d.\u0275\u0275elementStart(6,"option",60),d.\u0275\u0275text(7,"admin.TXT_Everybody"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(8,_,2,2,"option",21),d.\u0275\u0275pipe(9,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(10,"td"),d.\u0275\u0275elementStart(11,"select",59),d.\u0275\u0275listener("ngModelChange",(function(e){d.\u0275\u0275restoreView(n);var r=t.$implicit;return d.\u0275\u0275nextContext().saveChart(r,"adminGroupId",e)})),d.\u0275\u0275pipe(12,"async"),d.\u0275\u0275elementStart(13,"option",61),d.\u0275\u0275text(14,"admin.TXT_Creators"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(15,F,2,2,"option",21),d.\u0275\u0275pipe(16,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(17,"td"),d.\u0275\u0275elementStart(18,"select",59),d.\u0275\u0275listener("ngModelChange",(function(e){d.\u0275\u0275restoreView(n);var r=t.$implicit;return d.\u0275\u0275nextContext().saveChart(r,"denyGroupId",e)})),d.\u0275\u0275pipe(19,"async"),d.\u0275\u0275elementStart(20,"option",62),d.\u0275\u0275text(21,"admin.TXT_Nobody"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(22,O,2,2,"option",21),d.\u0275\u0275pipe(23,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){var r,a,i,o=t.$implicit,c=d.\u0275\u0275nextContext(),s=null==(r=d.\u0275\u0275pipeBind1(9,15,c.model$))?null:r.SecurityGroups,l=null==(a=d.\u0275\u0275pipeBind1(16,19,c.model$))?null:a.SecurityGroups,u=null==(i=d.\u0275\u0275pipeBind1(23,23,c.model$))?null:i.SecurityGroups;d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(o.name),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngModel",o.viewGroupId)("disabled",d.\u0275\u0275pipeBind1(5,13,c.chartRequests$)[o.id]),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngValue",0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",s),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",o.adminGroupId)("disabled",d.\u0275\u0275pipeBind1(12,17,c.chartRequests$)[o.id]),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngValue",0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",l),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",o.denyGroupId)("disabled",d.\u0275\u0275pipeBind1(19,21,c.chartRequests$)[o.id]),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngValue",0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",u)}}function N(e,t){if(1&e){var n=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"tr"),d.\u0275\u0275elementStart(1,"td"),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"td"),d.\u0275\u0275elementStart(4,"select",63),d.\u0275\u0275listener("ngModelChange",(function(e){d.\u0275\u0275restoreView(n);var r=t.$implicit;return d.\u0275\u0275nextContext().saveExternalUsersSetting(r,e)})),d.\u0275\u0275pipe(5,"async"),d.\u0275\u0275elementStart(6,"option",39),d.\u0275\u0275text(7,"Not allowed"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"option",39),d.\u0275\u0275text(9,"Allowed"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,a=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(r.name),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngModel",r.areExternalUsersAllowed)("disabled",d.\u0275\u0275pipeBind1(5,5,a.chartExternalRequests$)[r.id]||!a.globalExternalUsersSetting),d.\u0275\u0275advance(2),d.\u0275\u0275property("value",!1),d.\u0275\u0275advance(2),d.\u0275\u0275property("value",!0)}}Object.defineProperty(t,"__esModule",{value:!0});var j=function(){function e(t,n,l,u,p){var d=this;_classCallCheck(this,e),this.locale=t,this.store=n,this.chartService=l,this.adminService=u,this.title=p,this.Resources=c,this.newCreator=null,this.addedUser=null,this.addedGroup=null,this.newSecurityGroupName="",this.selectedSecurityGroup=null,this.globalExternalUsersSetting=!1,this.unsubscribe=new o.Subject,this.userEntry=function(e){return!!e.UserId||!!e.UserName},this.groupEntry=function(e){return!!e.GroupName},this.model$=n.pipe(r.select(a.selectCompositeModel)),this.model$.pipe(s.takeUntil(this.unsubscribe)).subscribe((function(e){null!==e?(d.creators=e.Creators?e.Creators.map((function(e){return{id:e,name:e}})):[],d.updateCreatorInfo(),null!==d.selectedSecurityGroup&&(d.selectedSecurityGroup=e.SecurityGroups.find((function(e){return e.Id===d.selectedSecurityGroup.Id}))),d.globalExternalUsersSetting=e.GlobalExternalUsersSetting):d.store.dispatch(i.loadCompositeModel())})),this.availableEntries$=n.pipe(r.select(a.selectAvailableEntries)),this.availableEntries$.pipe(s.takeUntil(this.unsubscribe)).subscribe((function(e){null!==e||d.store.dispatch(i.loadCompanyGroups())})),this.charts$=n.pipe(r.select(a.selectCharts)),this.charts$.pipe(s.takeUntil(this.unsubscribe)).subscribe((function(e){null!==e||d.store.dispatch(i.loadCharts())})),p.setTitle("Settings - Security"),this.chartRequests$=this.store.pipe(r.select(a.selectChartRequests)),this.chartExternalRequests$=this.store.pipe(r.select(a.selectChartExternalRequests))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store.pipe(r.select(a.selectSelectedSecurityGroupId),s.withLatestFrom(this.model$),s.takeUntil(this.unsubscribe)).subscribe((function(t){var n=_slicedToArray(t,2),r=n[0],a=n[1];if(0!==r&&a&&a.SecurityGroups&&a.SecurityGroups.length>0){var i=a.SecurityGroups.find((function(e){return e.Id===r}));i&&(e.selectedSecurityGroup=i,e.newSecurityGroupName="")}})),this.peoplePickerSource$=new o.Observable((function(t){t.next(e.peoplePickerSearchString)})).pipe(s.mergeMap((function(t){return e.chartService.searchOrganization(t).pipe(s.map((function(e){return e.map((function(e){return e.TypeaheadTitle=e.JobTitle?"".concat(e.DisplayName," - ").concat(e.JobTitle):e.DisplayName,e}))})))}))),this.securityUserPickerSource$=new o.Observable((function(t){t.next(e.securityUserPickerString)})).pipe(s.mergeMap((function(t){return e.chartService.searchOrganization(t).pipe(s.map((function(e){return e.map((function(e){return e.TypeaheadTitle=e.JobTitle?"".concat(e.DisplayName," - ").concat(e.JobTitle):e.DisplayName,e}))})))})))}},{key:"onSelectPerson",value:function(e){console.log(e),this.newCreator=e.item}},{key:"onSelectSecurityPerson",value:function(e){console.log(e),this.addedUser=e.item}},{key:"addCreator",value:function(){var e=this;null!==this.newCreator&&this.model$.pipe(s.take(1),s.map((function(t){-1===t.Creators.findIndex((function(t){return t===e.newCreator.UniqueId}))&&(e.store.dispatch(i.saveCreators({creators:[].concat(_toConsumableArray(t.Creators),[e.newCreator.UniqueId])})),e.newCreator=null,e.peoplePickerSearchString="")}))).subscribe()}},{key:"removeCreator",value:function(e){var t=this;this.model$.pipe(s.take(1),s.map((function(n){t.store.dispatch(i.saveCreators({creators:n.Creators.filter((function(t){return t!==e}))})),t.newCreator=null,t.peoplePickerSearchString=""}))).subscribe()}},{key:"updateCreatorInfo",value:function(){var e=this;this.creators.forEach((function(t){e.adminService.getPersonName(t.id).subscribe((function(e){t.name=e}))}))}},{key:"addSecurityGroup",value:function(){""!==this.newSecurityGroupName&&null!==this.newSecurityGroupName&&this.store.dispatch(i.createSecurityGroup({name:this.newSecurityGroupName}))}},{key:"removeSecurityGroup",value:function(e){this.store.dispatch(i.removeSecurityGroup({id:e}))}},{key:"addToSecurityGroup",value:function(e){if(console.log("adding",e),this.selectedSecurityGroup){var t={Id:0,SecurityGroupId:this.selectedSecurityGroup.Id};"group"===e&&(t.GroupName=this.addedGroup.value),"user"===e&&(t.UserId=this.addedUser.UniqueId,t.UserName=this.addedUser.DisplayName,this.securityUserPickerString=""),this.store.dispatch(i.addSecurityGroupEntry({entry:t})),this.addedUser=null,this.addedGroup=null}}},{key:"removeSecurityGroupEntry",value:function(e){this.store.dispatch(i.removeSecurityGroupEntry({id:e}))}},{key:"hasItems",value:function(e){return null!==this.selectedSecurityGroup&&null!=this.selectedSecurityGroup.SecurityGroupEntries&&("user"===e?-1!==this.selectedSecurityGroup.SecurityGroupEntries.findIndex((function(e){return!!e.UserId||!!e.UserName})):"group"===e?-1!==this.selectedSecurityGroup.SecurityGroupEntries.findIndex((function(e){return!!e.GroupName})):void 0)}},{key:"saveGlobalExternalSetting",value:function(e){this.store.dispatch(i.saveGlobalExternalSetting({value:e}))}},{key:"saveExternalUsersSetting",value:function(e,t){this.store.dispatch(i.saveExternalUsersSetting({chart:Object.assign(Object.assign({},e),{areExternalUsersAllowed:t})}))}},{key:"saveChart",value:function(e,t,n){console.log(n);var r=Object.assign({},e);r[t]=n,this.store.dispatch(i.saveChart({chart:r}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),e}();t.SecurityComponent=j,j.\u0275fac=function(e){return new(e||j)(d.\u0275\u0275directiveInject(n.L10N_LOCALE),d.\u0275\u0275directiveInject(m.Store),d.\u0275\u0275directiveInject(S.ChartService),d.\u0275\u0275directiveInject(g.AdminService),d.\u0275\u0275directiveInject(f.Title))},j.\u0275cmp=d.\u0275\u0275defineComponent({type:j,selectors:[["toc-admin-security"]],decls:94,vars:41,consts:[[1,"container"],[1,"card"],["translate","admin.TXT_ManageAdmin",1,"section-heading"],["translate","admin.TXT_ManageAdminDesc",1,"suffix"],[1,"row"],[1,"col-12","col-md-6"],["typeaheadOptionsLimit","20","container","body","typeaheadWaitMs","200","typeaheadOptionField","TypeaheadTitle",1,"form-control",3,"ngModel","typeahead","typeaheadAsync","typeaheadScrollable","typeaheadOptionsInScrollableView","placeholder","ngModelChange","typeaheadOnSelect"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-plus-circle","fa-lg"],[1,"col-12","col-md-6","mt-2","mt-md-0"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["translate","admin.TXT_ManageGroups",1,"section-heading"],["translate","admin.TXT_ManageGroupsDesc",1,"suffix"],[1,"col-md-4"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"input-group-btn"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-control",3,"ngModel","ngModelChange"],["translate","admin.TXT_SelectGroup","selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","btn btn-danger",3,"click",4,"ngIf"],["id","manage-security-group",4,"ngIf"],["translate","admin.TXT_AssignTitle",1,"section-heading"],["translate","admin.TXT_AssignDesc",1,"suffix"],[1,"table-responsive","col-md-12"],[1,"table","table-hover"],[1,"theader"],["translate","admin.TXT_OrgChart"],["translate","admin.TXT_ViewGroup"],["translate","admin.TXT_AdminGroup"],["translate","admin.TXT_DenyGroup"],[4,"ngFor","ngForOf"],["translate","admin.TXT_ExternalTitle",1,"section-heading"],["translate","admin.TXT_ExternalDesc",1,"suffix"],["translate","admin.TXT_GlobalSetting",1,"subheading","mb-0","mt-1"],["translate","admin.TXT_GlobalDesc",1,"mt-1"],["ng-disabled","saving",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value"],["translate","admin.TXT_ChartSetting",1,"subheading"],["translate","admin.TXT_ChartExternalUser"],[1,"list-group-item"],["type","button",1,"close",3,"click"],[3,"ngValue"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash","fa-lg"],["id","manage-security-group"],["translate","admin.TXT_AddUserToGroup"],["translate","admin.TXT_AddGroupToGroup"],[1,"clearfix"],["translate","admin.TXT_UsersInGroup"],["class","list-group-item","ng-if","(security.currentGroup.SecurityGroupEntries|users).length == 0","translate","admin.TXT_None",4,"ngIf"],["class","list-group-item","ng-repeat","user in security.currentGroup.SecurityGroupEntries|users",4,"ngFor","ngForOf"],["translate","admin.TXT_GroupsInGroup"],["class","list-group-item","translate","admin.TXT_NoGroups",4,"ngIf"],["ng-if","(security.currentGroup.SecurityGroupEntries|users).length == 0","translate","admin.TXT_None",1,"list-group-item"],["ng-repeat","user in security.currentGroup.SecurityGroupEntries|users",1,"list-group-item"],["translate","admin.TXT_NoGroups",1,"list-group-item"],["ng-options","group.Id as group.Name for group in securityGroups",1,"form-control",3,"ngModel","disabled","ngModelChange"],["translate","admin.TXT_Everybody",3,"ngValue"],["translate","admin.TXT_Creators",3,"ngValue"],["translate","admin.TXT_Nobody",3,"ngValue"],["ng-options","o.v as o.n for o in [{ n: 'Not allowed', v: false }, { n: 'Allowed', v: true }]",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"div",1),d.\u0275\u0275elementStart(2,"div",2),d.\u0275\u0275text(3,"Manage chart administrators"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"div",3),d.\u0275\u0275text(5,"Control the list of users who have administrator privileges to all charts"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"div",4),d.\u0275\u0275elementStart(7,"div",5),d.\u0275\u0275elementStart(8,"input",6),d.\u0275\u0275listener("ngModelChange",(function(e){return t.peoplePickerSearchString=e}))("typeaheadOnSelect",(function(e){return t.onSelectPerson(e)})),d.\u0275\u0275pipe(9,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(10,"br"),d.\u0275\u0275elementStart(11,"button",7),d.\u0275\u0275listener("click",(function(e){return t.addCreator()})),d.\u0275\u0275element(12,"i",8),d.\u0275\u0275text(13),d.\u0275\u0275pipe(14,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(15,"div",9),d.\u0275\u0275elementStart(16,"ul",10),d.\u0275\u0275template(17,A,5,1,"li",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"div",1),d.\u0275\u0275elementStart(19,"div",12),d.\u0275\u0275text(20,"Manage Security Groups"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(21,"div",13),d.\u0275\u0275text(22,"Use this page to control access to charts, define groups of people who can view or administrate specific charts and restrict access to charts to certain groups of people within the organisation."),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"div",4),d.\u0275\u0275elementStart(24,"div",14),d.\u0275\u0275elementStart(25,"div",15),d.\u0275\u0275elementStart(26,"input",16),d.\u0275\u0275listener("ngModelChange",(function(e){return t.newSecurityGroupName=e})),d.\u0275\u0275pipe(27,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(28,"span",17),d.\u0275\u0275elementStart(29,"button",18),d.\u0275\u0275listener("click",(function(e){return t.addSecurityGroup()})),d.\u0275\u0275element(30,"i",8),d.\u0275\u0275text(31),d.\u0275\u0275pipe(32,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(33,"br"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(34,"div",4),d.\u0275\u0275elementStart(35,"div",14),d.\u0275\u0275elementStart(36,"select",19),d.\u0275\u0275listener("ngModelChange",(function(e){return t.selectedSecurityGroup=e})),d.\u0275\u0275elementStart(37,"option",20),d.\u0275\u0275text(38,"Select existing group"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(39,x,2,2,"option",21),d.\u0275\u0275pipe(40,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(41,"br"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(42,"div",14),d.\u0275\u0275template(43,T,4,4,"button",22),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(44,P,47,38,"div",23),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(45,"div",1),d.\u0275\u0275elementStart(46,"div",24),d.\u0275\u0275text(47,"Assign Groups to Charts"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(48,"div",25),d.\u0275\u0275text(49,"Manage which charts each admin group can access here"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(50,"div",4),d.\u0275\u0275elementStart(51,"div",26),d.\u0275\u0275elementStart(52,"table",27),d.\u0275\u0275elementStart(53,"thead",28),d.\u0275\u0275elementStart(54,"tr"),d.\u0275\u0275elementStart(55,"th",29),d.\u0275\u0275text(56,"Organization Chart"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(57,"th",30),d.\u0275\u0275text(58,"View Only Group"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(59,"th",31),d.\u0275\u0275text(60,"Admin Group"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(61,"th",32),d.\u0275\u0275text(62,"Deny Access To"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(63,L,24,25,"tr",33),d.\u0275\u0275pipe(64,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(65,"div",1),d.\u0275\u0275elementStart(66,"div",34),d.\u0275\u0275text(67,"External user access"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(68,"div",35),d.\u0275\u0275text(69,"Control whether charts can be shared outside of TeamOrgChart"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(70,"div",36),d.\u0275\u0275text(71,"Global setting"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(72,"p",37),d.\u0275\u0275text(73,"Disallowing access globally overrides all chart specific settings"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(74,"div",4),d.\u0275\u0275elementStart(75,"div",14),d.\u0275\u0275elementStart(76,"select",38),d.\u0275\u0275listener("ngModelChange",(function(e){return t.globalExternalUsersSetting=e}))("change",(function(e){return t.saveGlobalExternalSetting(t.globalExternalUsersSetting)})),d.\u0275\u0275elementStart(77,"option",39),d.\u0275\u0275text(78,"Not allowed"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(79,"option",39),d.\u0275\u0275text(80,"Allowed"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(81,"div",40),d.\u0275\u0275text(82,"Chart specific settings"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(83,"div",4),d.\u0275\u0275elementStart(84,"div",26),d.\u0275\u0275elementStart(85,"table",27),d.\u0275\u0275elementStart(86,"thead",28),d.\u0275\u0275elementStart(87,"tr"),d.\u0275\u0275elementStart(88,"th",29),d.\u0275\u0275text(89,"Organization Chart"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(90,"th",41),d.\u0275\u0275text(91,"External users access"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(92,N,10,7,"tr",33),d.\u0275\u0275pipe(93,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){var n,r=null==(n=d.\u0275\u0275pipeBind1(40,35,t.model$))?null:n.SecurityGroups;d.\u0275\u0275advance(8),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind2(9,23,t.Resources.AuditStrings.SelectStartingPersonPlaceholder,t.locale.language)),d.\u0275\u0275property("ngModel",t.peoplePickerSearchString)("typeahead",t.peoplePickerSource$)("typeaheadAsync",!0)("typeaheadScrollable",!0)("typeaheadOptionsInScrollableView",8),d.\u0275\u0275advance(3),d.\u0275\u0275property("disabled",null===t.newCreator),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(14,26,"admin.BUTTON_AddAdmin",t.locale.language)," "),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",t.creators),d.\u0275\u0275advance(9),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind2(27,29,"admin.TXT_NewGroup",t.locale.language)),d.\u0275\u0275property("ngModel",t.newSecurityGroupName),d.\u0275\u0275advance(3),d.\u0275\u0275property("disabled",0===t.newSecurityGroupName.length),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(32,32,"admin.TXT_AddNewGroup",t.locale.language),""),d.\u0275\u0275advance(5),d.\u0275\u0275property("ngModel",t.selectedSecurityGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngValue",null),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",r),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngIf",t.selectedSecurityGroup),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.selectedSecurityGroup),d.\u0275\u0275advance(19),d.\u0275\u0275property("ngForOf",d.\u0275\u0275pipeBind1(64,37,t.charts$)),d.\u0275\u0275advance(13),d.\u0275\u0275property("ngModel",t.globalExternalUsersSetting),d.\u0275\u0275advance(1),d.\u0275\u0275property("value",!1),d.\u0275\u0275advance(2),d.\u0275\u0275property("value",!0),d.\u0275\u0275advance(13),d.\u0275\u0275property("ngForOf",d.\u0275\u0275pipeBind1(93,39,t.charts$))}},directives:[h.L10nTranslateDirective,v.DefaultValueAccessor,v.NgControlStatus,v.NgModel,y.TypeaheadDirective,E.NgForOf,v.SelectControlValueAccessor,v.NgSelectOption,v.\u0275angular_packages_forms_forms_x,b.NgrxSelectMultipleOption,b.NgrxSelectOption,b.NgrxFallbackSelectOption,E.NgIf],pipes:[h.L10nTranslatePipe,E.AsyncPipe,C.CallbackPipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},jkDv:function(e,t,n){var r,a;r=[n,t,n("ofXK"),n("kt0X"),n("snw9"),n("3Pt+"),n("7pIB"),n("qCdp"),n("zY6w"),n("R9Cn"),n("PCNd"),n("Cqpf"),n("CQUn"),n("0Em7"),n("atpF"),n("Mfq2"),n("Dvla"),n("fXoL"),n("kt0X"),n("snw9"),n("Mfq2")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u,p,d,m,S,g,f,h,v,y,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function e(){_classCallCheck(this,e)};t.AdminModule=b,b.\u0275mod=h.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=h.\u0275\u0275defineInjector({factory:function(e){return new(e||b)},providers:[d.AdminService],imports:[[n.CommonModule,m.AdminRoutingModule,r.StoreModule.forFeature("admin",s.reducer),a.EffectsModule.forFeature([p.AdminEffects]),g.TooltipModule.forRoot(),o.FileUploadModule,i.FormsModule,S.NgrxFormsModule,u.SharedModule,c.TypeaheadModule,l.ColorPickerModule,f.ClipboardModule]]})}).apply(t,r))||(e.exports=a)},lC1S:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("kt0X"),n("qCKp"),n("zY6w"),n("L5B3"),n("kU1M"),n("DIoI"),n("fXoL"),n("kt0X"),n("1ATV"),n("ofXK"),n("3Pt+"),n("atpF")],void 0===(a=(function(e,t,n,r,a,i,o,c,s,l,u,p,d,m,S){"use strict";function g(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"button",17),l.\u0275\u0275listener("click",(function(e){l.\u0275\u0275restoreView(n);var t=l.\u0275\u0275nextContext().$implicit;return l.\u0275\u0275nextContext(2).removeSource(t.InformationSourceId)})),l.\u0275\u0275text(1,"\xd7"),l.\u0275\u0275elementEnd()}}function f(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"tr",14),l.\u0275\u0275listener("click",(function(e){l.\u0275\u0275restoreView(n);var r=t.$implicit,a=l.\u0275\u0275nextContext(2);return r.CanEdit&&a.editSource(r.InformationSourceId)})),l.\u0275\u0275elementStart(1,"td"),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"td"),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"td"),l.\u0275\u0275text(6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"td"),l.\u0275\u0275elementStart(8,"button",15),l.\u0275\u0275listener("click",(function(e){l.\u0275\u0275restoreView(n);var r=t.$implicit;return l.\u0275\u0275nextContext(2).testInformationSource(r.InformationSourceId)})),l.\u0275\u0275text(9," admin.TXT_ISTestConnection "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"td"),l.\u0275\u0275template(11,g,2,0,"button",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;l.\u0275\u0275styleProp("cursor",r.CanEdit?"pointer":""),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(r.SourceName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(r.FriendlyTypeName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(r.Description),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngIf",r.CanEdit)}}function h(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"div",11),l.\u0275\u0275elementStart(1,"table",12),l.\u0275\u0275elementStart(2,"thead"),l.\u0275\u0275elementStart(3,"tr"),l.\u0275\u0275elementStart(4,"th"),l.\u0275\u0275text(5),l.\u0275\u0275pipe(6,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"th"),l.\u0275\u0275text(8),l.\u0275\u0275pipe(9,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(10,"th"),l.\u0275\u0275elementStart(11,"th"),l.\u0275\u0275text(12),l.\u0275\u0275pipe(13,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(14,"th"),l.\u0275\u0275text(15),l.\u0275\u0275pipe(16,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(17,"tbody"),l.\u0275\u0275template(18,f,12,6,"tr",13),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=l.\u0275\u0275nextContext();l.\u0275\u0275advance(5),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(6,5,"admin.TXT_ISSource",n.locale.language)),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(9,8,"admin.TXT_ISSourceType",n.locale.language)),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(13,11,"admin.TXT_ISTestSource",n.locale.language)),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(16,14,"admin.TXT_ISDelete",n.locale.language)),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",n.sources)}}function v(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275elementStart(1,"label",29),l.\u0275\u0275text(2,"Connection String"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"input",21),l.\u0275\u0275listener("ngModelChange",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext(2).selectedSource.ConnectionString=e})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"label",30),l.\u0275\u0275text(5,"Query"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"textarea",21),l.\u0275\u0275listener("ngModelChange",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext(2).selectedSource.Query=e})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var r=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(3),l.\u0275\u0275property("ngModel",r.selectedSource.ConnectionString),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngModel",r.selectedSource.Query)}}function y(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"option",38),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",n.Name,"")}}function E(e,t){1&e&&l.\u0275\u0275element(0,"option",39),2&e&&l.\u0275\u0275property("value",t.$implicit.value)}function b(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275elementStart(1,"div",7),l.\u0275\u0275elementStart(2,"div",31),l.\u0275\u0275elementStart(3,"label",32),l.\u0275\u0275text(4,"SharePoint Lists"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"select",33),l.\u0275\u0275listener("ngModelChange",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext(2).updateFieldList()})),l.\u0275\u0275template(6,y,2,1,"option",34),l.\u0275\u0275pipe(7,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"div",31),l.\u0275\u0275elementStart(9,"label",35),l.\u0275\u0275text(10,"Field"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"select",36),l.\u0275\u0275listener("ngModelChange",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext(2).selectedSharePointFieldId=e})),l.\u0275\u0275template(12,E,1,1,"option",37),l.\u0275\u0275pipe(13,"keyvalue"),l.\u0275\u0275pipe(14,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var r=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",r.selectedListId),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",l.\u0275\u0275pipeBind1(7,4,r.sharePointLists$)),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",r.selectedSharePointFieldId),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",l.\u0275\u0275pipeBind1(13,6,l.\u0275\u0275pipeBind1(14,8,r.sharePointListFields$)))}}function C(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",8),l.\u0275\u0275elementStart(1,"div"),l.\u0275\u0275elementStart(2,"div",18),l.\u0275\u0275elementStart(3,"div",7),l.\u0275\u0275elementStart(4,"div",19),l.\u0275\u0275elementStart(5,"label",20),l.\u0275\u0275text(6,"Source Name"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"input",21),l.\u0275\u0275listener("ngModelChange",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext().selectedSource.SourceName=e})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"div",22),l.\u0275\u0275elementStart(9,"label"),l.\u0275\u0275text(10,"SQL or List"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"div",23),l.\u0275\u0275elementStart(12,"div",24),l.\u0275\u0275elementStart(13,"label"),l.\u0275\u0275elementStart(14,"input",25),l.\u0275\u0275listener("ngModelChange",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext().selectedSource.SourceType=e})),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(15," SQL Server "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(16,"div",24),l.\u0275\u0275elementStart(17,"label"),l.\u0275\u0275elementStart(18,"input",26),l.\u0275\u0275listener("ngModelChange",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext().selectedSource.SourceType=e})),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(19," SharePoint List "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(20,v,7,2,"div",27),l.\u0275\u0275template(21,b,15,10,"div",27),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(22,"br"),l.\u0275\u0275elementStart(23,"button",28),l.\u0275\u0275listener("click",(function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext().saveSource()})),l.\u0275\u0275text(24," common.SAVE_CHANGES "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var r=l.\u0275\u0275nextContext();l.\u0275\u0275advance(7),l.\u0275\u0275property("ngModel",r.selectedSource.SourceName),l.\u0275\u0275advance(7),l.\u0275\u0275property("ngModel",r.selectedSource.SourceType),l.\u0275\u0275advance(4),l.\u0275\u0275property("ngModel",r.selectedSource.SourceType),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf","SQLServer"==r.selectedSource.SourceType),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf","SharePointList"==r.selectedSource.SourceType)}}Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(t,n){var s=this;_classCallCheck(this,e),this.locale=t,this.store=n,this.sources=[],this.selectedSource=null,this.selectedListId=null,this.selectedSharePointFieldId=null,this.unsubscribe=new a.Subject,this.store.pipe(r.select(i.selectCompositeModel),c.takeUntil(this.unsubscribe)).subscribe((function(e){null!==e?s.sources=e.InformationSources.map((function(e){return Object.assign({},e)})):s.store.dispatch(o.loadCompositeModel())})),this.store.pipe(r.select(i.selectSelectedSourceInfo),c.takeUntil(this.unsubscribe),c.filter((function(e){return null!==e}))).subscribe((function(e){s.selectedSource.InformationSourceId===e.InformationSourceId&&(s.selectedSource=Object.assign({},e))})),this.store.pipe(r.select(i.selectDeletedSourceId),c.takeUntil(this.unsubscribe),c.filter((function(e){return null!==e}))).subscribe((function(e){s.sources=s.sources.filter((function(t){return t.InformationSourceId!==e})),s.store.dispatch(o.loadCompositeModel())})),this.store.pipe(r.select(i.selecteSavedSourceId),c.takeUntil(this.unsubscribe),c.filter((function(e){return null!==e}))).subscribe((function(e){if(s.selectedSource){var t=s.sources.findIndex((function(t){return t.InformationSourceId===e}));-1===t?(s.sources.push(Object.assign(Object.assign({},s.selectedSource),{InformationSourceId:e})),s.selectedSource=Object.assign({},s.sources.find((function(t){return t.InformationSourceId===e})))):(s.sources[t]=Object.assign({},s.selectedSource),s.selectedSource=Object.assign({},s.sources[t]))}s.store.dispatch(o.clearSavedSourceId())})),this.sharePointLists$=this.store.pipe(r.select(i.selectSharePointLists)),this.sharePointListFields$=this.store.pipe(r.select(i.selectSharePointListFields))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"testInformationSource",value:function(e){this.store.dispatch(o.testInformationSource({id:e}))}},{key:"newSource",value:function(){this.selectedSource={CanEdit:!1,ConnectionString:"",Description:"",FriendlyTypeName:"",InformationSourceId:"",Query:"",SharePointList:"",SharePointListColumn:"",SourceName:"",SourceType:"SQLServer"}}},{key:"editSource",value:function(e){var t=this.sources.find((function(t){return t.InformationSourceId===e}));t&&(this.selectedSource=Object.assign({},t)),this.store.dispatch(o.loadInformationSource({sourceId:e}))}},{key:"removeSource",value:function(e){this.store.dispatch(o.deleteInformationSource({id:e}))}},{key:"saveSource",value:function(){this.store.dispatch(null!==this.selectedSource?o.saveInformationSource({source:this.selectedSource}):new s.ToastError("Please select an existing or create a new source first"))}},{key:"updateFieldList",value:function(){this.selectedListId&&this.store.dispatch(o.getSharePointListFields({id:this.selectedListId}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}}]),e}();t.InformationSourcesComponent=A,A.\u0275fac=function(e){return new(e||A)(l.\u0275\u0275directiveInject(n.L10N_LOCALE),l.\u0275\u0275directiveInject(u.Store))},A.\u0275cmp=l.\u0275\u0275defineComponent({type:A,selectors:[["toc-admin-information-sources"]],decls:19,vars:10,consts:[[1,"container"],[1,"card"],[1,"section-heading"],[1,"suffix"],[1,"row","mb-2"],[1,"col-12","col-sm-6","col-md-4","col-xl-3"],["translate","admin.TXT_ISAddNew",1,"btn","btn-success",3,"click"],[1,"row"],[1,"col-12"],["class","table-responsive",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],[3,"cursor","click",4,"ngFor","ngForOf"],[3,"click"],["translate","admin.TXT_ISTestConnection",1,"btn","btn-success",3,"click"],["type","button","class","close",3,"click",4,"ngIf"],["type","button",1,"close",3,"click"],["ng-form","form"],["bs-has-error","",1,"col-12","col-sm-6","form-group"],["translate","admin.TXT_ISSource"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-6"],[1,"form-group"],[1,"radio"],["type","radio","name","sourceType","value","SQLServer",3,"ngModel","ngModelChange"],["type","radio","name","sourceType","value","SharePointList",3,"ngModel","ngModelChange"],[4,"ngIf"],["translate","common.SAVE_CHANGES",1,"btn","btn-success",3,"click"],["translate","admin.TXT_ISSourceCon"],["translate","admin.TXT_ISQuery"],[1,"col"],["translate","admin.TXT_ISSharePointLists"],[1,"form-control",3,"ngModel","ngModelChange"],["ng-value","option.Id",4,"ngFor","ngForOf"],["translate","admin.TXT_ISSharePointListFields"],["ng-change","updateSelectedField(SharePointFieldId)","ng-options","key as value  for (key, value) in SharePointListFields",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["ng-value","option.Id"],[3,"value"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275text(3),l.\u0275\u0275pipe(4,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"div",3),l.\u0275\u0275text(6),l.\u0275\u0275pipe(7,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"div",4),l.\u0275\u0275elementStart(9,"div",5),l.\u0275\u0275elementStart(10,"button",6),l.\u0275\u0275listener("click",(function(e){return t.newSource()})),l.\u0275\u0275text(11,"admin.TXT_ISAddNew"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"div",7),l.\u0275\u0275elementStart(13,"div",8),l.\u0275\u0275template(14,h,19,17,"div",9),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(15,"br"),l.\u0275\u0275element(16,"br"),l.\u0275\u0275elementStart(17,"div",7),l.\u0275\u0275template(18,C,25,5,"div",10),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(4,4,"admin.TXT_InformationSource",t.locale.language)),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(7,7,"admin.TXT_InformationSourceDesc",t.locale.language)),l.\u0275\u0275advance(8),l.\u0275\u0275property("ngIf",t.sources.length>0),l.\u0275\u0275advance(4),l.\u0275\u0275property("ngIf",t.selectedSource))},directives:[p.L10nTranslateDirective,d.NgIf,d.NgForOf,m.DefaultValueAccessor,m.RequiredValidator,m.NgControlStatus,m.NgModel,m.RadioControlValueAccessor,m.SelectControlValueAccessor,m.NgSelectOption,m.\u0275angular_packages_forms_forms_x,S.NgrxSelectMultipleOption,S.NgrxSelectOption,S.NgrxFallbackSelectOption],pipes:[p.L10nTranslatePipe,d.AsyncPipe,d.KeyValuePipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},vum2:function(e,t,n){var r,a;r=[n,t,n("fXoL")],void 0===(a=(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();t.ApiGuideComponent=r,r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["toc-api-guide"]],decls:76,vars:0,consts:[[1,"container"],[1,"card"],[1,"lead"],["src","/img/zapier/Picture1.png","alt","creating an api key",1,"img-fluid"],["src","/img/zapier/Picture2.png","alt","add api key",1,"img-fluid"],["src","/img/zapier/Picture3.png","alt","testing the api",1,"img-fluid"],["src","/img/zapier/Picture4.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture5.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture6.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture7.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture8.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture9.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture10.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture10_2.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture11.png","alt","using the api key",1,"img-fluid"],["href","https://teamorgchart.com/v1/data/CHART_ID"],["src","/img/zapier/Picture12.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture13.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture14.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture15.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture16.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture17.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture18.png","alt","using the api key",1,"img-fluid"]],template:function(e,t){1&e&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275elementStart(1,"div",1),n.\u0275\u0275elementStart(2,"h1"),n.\u0275\u0275text(3,"Zapier Integration Guide"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"p",2),n.\u0275\u0275text(5,"This guide shows how to create a simple Zap to update a chart from a Google Sheets document."),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"h2"),n.\u0275\u0275text(7,"Creating an API key"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"p"),n.\u0275\u0275text(9,"In order to authenticate API requests the caller needs to provide an API key in an HTTP header \u201cX-API-Key\u201d. API keys can be issued and revoked on \u201cAdmin\u201d-\u201cAPI\u201d page."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(10,"img",3),n.\u0275\u0275elementStart(11,"p"),n.\u0275\u0275text(12,"Click \u201cAdd API Key\u201d button to issue a new API key. The new key will appear in the table below. Please copy the key value immediately \u2013 it will only be displayed once since it\u2019s not being stored on TeamOrgChart\u2019s servers in plain text."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(13,"img",4),n.\u0275\u0275elementStart(14,"h2"),n.\u0275\u0275text(15,"Testing the API"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(16,"p"),n.\u0275\u0275text(17,"Click the \u201cAPI Documentation\u201d link to open Swagger UI page. This page allows you to make calls to the API directly from your web browser."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(18,"img",5),n.\u0275\u0275elementStart(19,"p"),n.\u0275\u0275text(20,"Paste the value of created API key into the \u201capi_key\u201d field. Click \u201cChartsApi\u201d to open a list of operations available in this category."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(21,"img",6),n.\u0275\u0275elementStart(22,"p"),n.\u0275\u0275text(23,"We\u2019re going to use GET all charts call, the first in the list. Click on the operation to open detailed information."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(24,"img",7),n.\u0275\u0275elementStart(25,"p"),n.\u0275\u0275text(26,"The only required parameter for this operation is \u201cversion\u201d, enter \u201c1\u201d as the value and click \u201cTry it out!\u201d. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(27,"p"),n.\u0275\u0275text(28,"Upon successful request you\u2019ll see the response body, code and headers. Response body contains JSON representation of the list of charts available in your organization."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(29,"img",8),n.\u0275\u0275elementStart(30,"h2"),n.\u0275\u0275text(31,"Creating a Zapier integration to update a chart from a Google Spreadsheet."),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(32,"p"),n.\u0275\u0275text(33,"First, let\u2019s create a chart to hold imported data. Go to \u201cCreate new org chart\u201d screen. Enter a name for the new chart and choose \u201cLoad from a spreadsheet\u201d as chart type: "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(34,"img",9),n.\u0275\u0275elementStart(35,"p"),n.\u0275\u0275text(36,"Get chart ID from the URL of the view chart page:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(37,"img",10),n.\u0275\u0275elementStart(38,"p"),n.\u0275\u0275text(39,"In my case it\u2019s \u201c5765a62a-11a0-49f4-9ca9-88020ec3b10c\u201d. Save this value for later. Go to Zapier.com\u2019s dashboard and open My Zaps. Click Make a Zap! to create a new integration. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(40,"img",11),n.\u0275\u0275elementStart(41,"p"),n.\u0275\u0275text(42,"Choose Google Sheets as a source event. Choose \u201cNew spreadsheet row\u201d as a trigger event."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(43,"img",12),n.\u0275\u0275elementStart(44,"p"),n.\u0275\u0275text(45,"Press continue and log in to Google, choose a source spreadsheet and and a worksheet inside the spreadsheet. The spreadsheet should contain a header row with fields for Unique item ID, Manager ID, Display name, job title and any other data required."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(46,"img",13),n.\u0275\u0275elementStart(47,"p"),n.\u0275\u0275text(48,"Press \u201cEdit\u201d next to \u201cDo this \u2026\u201d. Select \u201cWebhooks by Zapier\u201d as an App and POST as an action event: "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(49,"img",14),n.\u0275\u0275elementStart(50,"p"),n.\u0275\u0275text(51," Press continue and enter TeamOrgChart API call data: URL \u2013 "),n.\u0275\u0275elementStart(52,"a",15),n.\u0275\u0275text(53,"https://teamorgchart.com/v1/data/CHART_ID"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(54,"."),n.\u0275\u0275element(55,"br"),n.\u0275\u0275text(56," Substitute CHART_ID with the ID of the chart you wish to use as a sync target. Choose JSON as payload type. Map your spreadsheet columns data to JSON using Data table: "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(57,"img",16),n.\u0275\u0275elementStart(58,"p"),n.\u0275\u0275text(59,"At the bottom of the settings panel enter a new header name \u201cX-API-Key\u201d and paste your API key as a value."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(60,"img",17),n.\u0275\u0275elementStart(61,"p"),n.\u0275\u0275text(62,"That\u2019s it! Turn you Zap on and add a row to your spreadsheet."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(63,"img",18),n.\u0275\u0275elementStart(64,"p"),n.\u0275\u0275text(65,"Add a row to your spreadsheet and check previously created chart on teamorgchart.com:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(66,"img",19),n.\u0275\u0275elementStart(67,"p"),n.\u0275\u0275text(68,"The box is there but it\u2019s empty since TeamOrgChart doesn\u2019t know which columns to display. Pick \u201cChoose box contents\u201d in the menu above the chart."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(69,"img",20),n.\u0275\u0275elementStart(70,"p"),n.\u0275\u0275text(71,"Choose columns you whish to be displayed in the chart box and click Save:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(72,"img",21),n.\u0275\u0275elementStart(73,"p"),n.\u0275\u0275text(74,"Go back to the chart:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(75,"img",22),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd())},encapsulation:2})}).apply(t,r))||(e.exports=a)},zY6w:function(e,t,n){var r,a;r=[n,t,n("mrSG"),n("kt0X"),n("L5B3"),n("atpF")],void 0===(a=(function(e,t,n,r,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialAppearanceFormState=i.createFormGroupState("appearance_form_id",{brandColor:"#000000",theme:"Light",footerText:""}),t.initialState={compositeModel:null,isFetching:!1,appearanceForm:t.initialAppearanceFormState,selectedSecurityGroupId:0,availableEntries:null,charts:null,chartRequests:{},chartExternalRequests:{},disableCacheSetting:null,selectedSourceInfo:null,deletedSourceId:null,savedSourceId:null,sharePointLists:[],sharePointListFields:[],apiKeys:[]};var o=r.createReducer(t.initialState,i.onNgrxForms(),r.on(a.setAppearanceFormFromCompositeModel,(function(e,n){var r=n.model;return Object.assign(Object.assign({},e),{appearanceForm:i.createFormGroupState("appearance_form_id",Object.assign(Object.assign({},t.initialAppearanceFormState),{brandColor:r.Settings.CustomColour,theme:r.Settings.CustomThemeName,footerText:r.Settings.CustomFooterText}))})})),r.on(a.saveAppearanceSuccess,(function(e){return window.location.reload(),e})),r.on(a.loadCompositeModel,(function(e){return Object.assign(Object.assign({},e),{isFetching:!0})})),r.on(a.loadCompositeModelFailure,(function(e){return Object.assign(Object.assign({},e),{isFetching:!1})})),r.on(a.loadCompositeModelSuccess,(function(e,t){var n=t.model;return Object.assign(Object.assign({},e),{compositeModel:n,isFetching:!1})})),r.on(a.saveCreatorsSuccess,(function(e,t){var n=t.creators;return Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{Creators:n})})})),r.on(a.createSecurityGroupSuccess,(function(e,t){var n=t.group;return Object.assign(Object.assign({},e),{selectedSecurityGroupId:n.Id,compositeModel:Object.assign(Object.assign({},e.compositeModel),{SecurityGroups:[].concat(_toConsumableArray(e.compositeModel.SecurityGroups),[n])})})})),r.on(a.removeSecurityGroupSuccess,(function(e,t){var n=t.groups;return Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{SecurityGroups:n})})})),r.on(a.loadCompanyGroupsSuccess,(function(e,t){var n=t.entries;return Object.assign(Object.assign({},e),{availableEntries:n})})),r.on(a.addSecurityGroupEntrySuccess,a.removeSecurityGroupEntrySuccess,(function(e,t){var n=t.group;return Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{SecurityGroups:e.compositeModel.SecurityGroups.map((function(e){return e.Id===n.Id?n:e}))})})})),r.on(a.saveGlobalExternalSettingSuccess,(function(e,t){var n=t.value;return Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{GlobalExternalUsersSetting:n})})})),r.on(a.saveExternalUsersSettingSuccess,(function(e,t){var r=t.chart,a=r.id,i=n.__rest(e.chartExternalRequests,["symbol"==typeof a?a:a+""]);return Object.assign(Object.assign({},e),{charts:e.charts.map((function(e){return e.id===r.id?Object.assign(Object.assign({},e),{areExternalUsersAllowed:r.areExternalUsersAllowed}):e})),chartExternalRequests:i})})),r.on(a.saveExternalUsersSetting,(function(e,t){var n=t.chart;return Object.assign(Object.assign({},e),{chartExternalRequests:Object.assign(Object.assign({},e.chartExternalRequests),_defineProperty({},n.id,{}))})})),r.on(a.saveChart,(function(e,t){var n=t.chart;return Object.assign(Object.assign({},e),{chartRequests:Object.assign(Object.assign({},e.chartExternalRequests),_defineProperty({},n.id,{}))})})),r.on(a.saveChartSuccess,a.saveChartFailure,(function(e,t){var r=t.chart,a=r.id,i=n.__rest(e.chartRequests,["symbol"==typeof a?a:a+""]);return Object.assign(Object.assign({},e),{chartRequests:i,charts:e.charts.map((function(e){return e.id===r.id?r:e}))})})),r.on(a.loadChartsSuccess,(function(e,t){var n=t.charts;return Object.assign(Object.assign({},e),{charts:n.map((function(e){return Object.assign({},e)}))})})),r.on(a.saveAdminEmailSuccess,(function(e,t){var n=t.AdminEmail,r=t.CompanyName;return Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{AdminEmailAndCompanyName:{AdminEmail:n,CompanyName:r}})})})),r.on(a.loadCacheSettingSuccess,(function(e,t){var n=t.value;return Object.assign(Object.assign({},e),{disableCacheSetting:n})})),r.on(a.saveCacheSettingSuccess,(function(e,t){var n=t.value;return Object.assign(Object.assign({},e),{disableCacheSetting:n})})),r.on(a.loadInformationSourceSuccess,(function(e,t){var n=t.source;return Object.assign(Object.assign({},e),{selectedSourceInfo:n})})),r.on(a.deleteInformationSourceSuccess,(function(e,t){var n=t.id,r=t.result;return Object.assign(Object.assign({},e),{deletedSourceId:r?n:null})})),r.on(a.saveInformationSourceSuccess,(function(e,t){var n=t.id;return t.result?Object.assign(Object.assign({},e),{savedSourceId:n}):e})),r.on(a.clearSavedSourceId,(function(e){return Object.assign(Object.assign({},e),{savedSourceId:null})})),r.on(a.getSharePointListsSuccess,(function(e,t){var n=t.lists;return Object.assign(Object.assign({},e),{sharePointLists:n})})),r.on(a.getSharePointListFieldsSuccess,(function(e,t){var n=t.fields;return Object.assign(Object.assign({},e),{sharePointListFields:n})})),r.on(a.loadApiKeysSuccess,(function(e,t){var n=t.apiKeys;return Object.assign(Object.assign({},e),{apiKeys:n})})),r.on(a.createApiKeySuccess,(function(e,t){var n=t.apiKey;return Object.assign(Object.assign({},e),{apiKeys:[].concat(_toConsumableArray(e.apiKeys),[n])})})),r.on(a.revokeApiKeySuccess,(function(e,t){var n=t.id;return Object.assign(Object.assign({},e),{apiKeys:e.apiKeys.filter((function(e){return e.Id!==n}))})})));t.reducer=function(e,t){return o(e,t)},t.selectAdmin=function(e){return e.admin},t.selectCompositeModel=r.createSelector(t.selectAdmin,(function(e){return e.compositeModel})),t.selectAppearanceFormState=r.createSelector(t.selectAdmin,(function(e){return e.appearanceForm})),t.selectSelectedSecurityGroupId=r.createSelector(t.selectAdmin,(function(e){return e.selectedSecurityGroupId})),t.selectAvailableEntries=r.createSelector(t.selectAdmin,(function(e){return e.availableEntries})),t.selectCharts=r.createSelector(t.selectAdmin,(function(e){return e.charts})),t.selectChartRequests=r.createSelector(t.selectAdmin,(function(e){return e.chartRequests})),t.selectChartExternalRequests=r.createSelector(t.selectAdmin,(function(e){return e.chartExternalRequests})),t.selectDisableCacheSetting=r.createSelector(t.selectAdmin,(function(e){return e.disableCacheSetting})),t.selectSelectedSourceInfo=r.createSelector(t.selectAdmin,(function(e){return e.selectedSourceInfo})),t.selectApiKeys=r.createSelector(t.selectAdmin,(function(e){return e.apiKeys})),t.selectDeletedSourceId=r.createSelector(t.selectAdmin,(function(e){return e.deletedSourceId})),t.selecteSavedSourceId=r.createSelector(t.selectAdmin,(function(e){return e.savedSourceId})),t.selectSharePointLists=r.createSelector(t.selectAdmin,(function(e){return e.sharePointLists})),t.selectSharePointListFields=r.createSelector(t.selectAdmin,(function(e){return e.sharePointListFields}))}).apply(t,r))||(e.exports=a)}}]);