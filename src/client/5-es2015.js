(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0Em7":function(e,t,n){var r,a;r=[n,t,n("tyNb"),n("7Egi"),n("ZQU4"),n("lC1S"),n("Q4kr"),n("DbYh"),n("vum2"),n("fXoL"),n("tyNb")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const d=[{path:"",children:[{path:"",children:[{path:"",component:r.AppearanceComponent},{path:"security",component:a.SecurityComponent},{path:"informationsources",component:i.InformationSourcesComponent},{path:"account",component:o.AccountComponent},{path:"api",component:s.ApiComponent},{path:"api-guide",component:l.ApiGuideComponent}]}]}];class m{}t.AdminRoutingModule=m,m.\u0275mod=c.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=c.\u0275\u0275defineInjector({factory:function(e){return new(e||m)},imports:[[n.RouterModule.forChild(d)],n.RouterModule]})}).apply(t,r))||(e.exports=a)},"7Egi":function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("kt0X"),n("qCKp"),n("zY6w"),n("L5B3"),n("kU1M"),n("atpF"),n("7pIB"),n("DIoI"),n("CQUn"),n("fXoL"),n("kt0X"),n("CQUn"),n("3Pt+"),n("atpF"),n("1ATV"),n("R9Cn"),n("7pIB"),n("ofXK")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p,d,m,u,S,g,h,v,f,y,E){"use strict";function b(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275elementStart(1,"button",31),m.\u0275\u0275listener("click",(function(t){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().removeLogo()})),m.\u0275\u0275text(2,"admin.BUTTON_RemoveLogo"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}}function x(e,t){if(1&e&&m.\u0275\u0275element(0,"img",32),2&e){const e=m.\u0275\u0275nextContext();m.\u0275\u0275property("src",e.href,m.\u0275\u0275sanitizeUrl)}}function A(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275elementStart(1,"h5"),m.\u0275\u0275text(2,"Remove Custom CSS"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"button",33),m.\u0275\u0275listener("click",(function(t){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().removeCss()})),m.\u0275\u0275text(4,"admin.TXT_RemoveCSS"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}}function C(e,t){1&e&&m.\u0275\u0275element(0,"div",34)}Object.defineProperty(t,"__esModule",{value:!0});class T{constructor(e,t,n){this.locale=e,this.store=t,this.adminService=n,this.brandColor$=new a.Subject,this.colorErrorMessage="",this.href="",this.csshref="",this.showRemoveLogo=!1,this.logoUploader=new c.FileUploader({isHTML5:!0,allowedMimeType:["image/*","image/jpeg","image/png","image/bmp"],url:"/api/admin/logoblobux"}),this.cssUploader=new c.FileUploader({isHTML5:!0,allowedMimeType:["text/*","text/css","text/plain","text/html"],url:"/api/admin/customcss"}),this.unsubscribe=new a.Subject,this.model$=t.pipe(r.select(i.selectCompositeModel)),this.model$.pipe(s.takeUntil(this.unsubscribe)).subscribe(e=>{null!==e?(this.store.dispatch(o.setAppearanceFormFromCompositeModel({model:e})),this.showRemoveLogo=e.Settings.HasCustomLogo,this.csshref=e.CustomCssPath,this.href=e.LogoPath,this.href&&(this.href=this.href+"?decache="+Math.random())):this.store.dispatch(o.loadCompositeModel())}),this.appearanceFormState$=t.pipe(r.select(i.selectAppearanceFormState)),this.brandColor$.pipe(s.takeUntil(this.unsubscribe),s.debounceTime(50)).subscribe(e=>{this.store.dispatch(new l.SetValueAction(i.initialAppearanceFormState.controls.brandColor.id,e))})}ngOnInit(){this.logoUploader.onCompleteItem=(e,t,n,r)=>{console.log(e,t,n,r);const a=JSON.parse(t);"OK"===a.status&&(this.href=a.href+"?decache="+Math.random(),this.showRemoveLogo=!0,this.store.dispatch(new p.ToastSuccess("")))},this.cssUploader.onCompleteItem=(e,t,n,r)=>{console.log(e,t,n,r);const a=JSON.parse(t);"OK"===a.status&&(this.csshref=a.href+"?decache="+Math.random(),this.store.dispatch(new p.ToastSuccess("")))}}updateBrandColor(e){this.brandColor$.next(e)}saveAppearance(){this.appearanceFormState$.pipe(s.take(1),s.map(e=>{/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e.controls.brandColor.value)?(this.colorErrorMessage="",this.store.dispatch(o.saveAppearance({form:e.value})),this.store.dispatch(new p.ToastSuccess(""))):this.colorErrorMessage="Please enter a valid brand color value"})).subscribe()}uploadLogo(){this.href="",this.logoUploader.uploadAll()}uploadCss(){this.csshref="",this.cssUploader.uploadAll()}removeLogo(){this.adminService.removeLogo().pipe(s.takeUntil(this.unsubscribe)).subscribe(()=>{this.href="",this.showRemoveLogo=!1,this.store.dispatch(new p.ToastSuccess("")),this.saveAppearance()})}saveLogo(){this.saveAppearance()}removeCss(){this.adminService.removeCss().pipe(s.takeUntil(this.unsubscribe)).subscribe(()=>{this.store.dispatch(new p.ToastSuccess("")),this.csshref=""})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}t.AppearanceComponent=T,T.\u0275fac=function(e){return new(e||T)(m.\u0275\u0275directiveInject(n.L10N_LOCALE),m.\u0275\u0275directiveInject(u.Store),m.\u0275\u0275directiveInject(S.AdminService))},T.\u0275cmp=m.\u0275\u0275defineComponent({type:T,selectors:[["toc-admin-appearance"]],decls:75,vars:49,consts:[[1,"container"],[1,"card",3,"ngrxFormState"],[1,"section-heading"],["translate","",1,"btn","btn-success",3,"click"],["l10nTranslate","",1,"suffix"],[1,"row","horizontal-form"],[1,"col-3"],["l10nTranslate",""],[1,"col-9"],[1,"form-control",3,"ngrxFormControlState"],["translate","admin.TXT_Light","value","Light"],["translate","admin.TXT_Dark","value","Dark"],["ng-if","colorErrorMessage",1,"row","horizontal-form","has-error"],[1,"col-12"],[1,"row"],["translate","admin.TXT_Brand"],[1,"color-swatch"],["type","text",1,"form-control",3,"colorPicker","value","readonly","cpWidth","cpOutputFormat","cpPosition","colorPickerChange"],[1,"card"],["translate","common.SAVE_CHANGES",1,"btn","btn-success",3,"click"],["translate","admin.TXT_FooterDesc",1,"suffix"],["rows","2",1,"form-control",3,"ngrxFormControlState"],["type","file","ngf-max-size","5MB","accept","image/*","name","fileLogo","ng2FileSelect","",3,"uploader","onFileSelected"],["ng-show","model.showError",1,"alert-error"],[4,"ngIf"],[1,"col-2"],["style","max-width: 100%",3,"src",4,"ngIf"],["ng-click","saveColor()","translate","common.SAVE_CHANGES",1,"btn","btn-success"],["translate","admin.TXT_CustomCSSDesc",1,"suffix"],["type","file","ngf-max-size","5MB","accept","text/*","name","fileCss","ng2FileSelect","",3,"uploader","onFileSelected"],["class","col-md-3",4,"ngIf"],["translate","admin.BUTTON_RemoveLogo",1,"btn","btn-danger","btn-sm",3,"click"],[2,"max-width","100%",3,"src"],["translate","admin.TXT_RemoveCSS",1,"btn","btn-danger",3,"click"],[1,"col-md-3"]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275elementStart(1,"form",1),m.\u0275\u0275pipe(2,"async"),m.\u0275\u0275elementStart(3,"div",2),m.\u0275\u0275text(4),m.\u0275\u0275pipe(5,"translate"),m.\u0275\u0275elementStart(6,"button",3),m.\u0275\u0275listener("click",(function(e){return t.saveAppearance()})),m.\u0275\u0275text(7,"common.SAVE_CHANGES"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"div",4),m.\u0275\u0275text(9,"admin.TXT_Desc"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"div",5),m.\u0275\u0275elementStart(11,"div",6),m.\u0275\u0275elementStart(12,"label",7),m.\u0275\u0275text(13,"admin.TXT_Theme"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"div",8),m.\u0275\u0275elementStart(15,"select",9),m.\u0275\u0275pipe(16,"async"),m.\u0275\u0275elementStart(17,"option",10),m.\u0275\u0275text(18,"admin.TXT_Light"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(19,"option",11),m.\u0275\u0275text(20,"admin.TXT_Dark"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"div",12),m.\u0275\u0275elementStart(22,"div",13),m.\u0275\u0275elementStart(23,"span"),m.\u0275\u0275text(24),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(25,"div",14),m.\u0275\u0275elementStart(26,"div",6),m.\u0275\u0275elementStart(27,"label",15),m.\u0275\u0275text(28,"admin.TXT_Brand"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(29,"div",8),m.\u0275\u0275element(30,"a",16),m.\u0275\u0275pipe(31,"async"),m.\u0275\u0275elementStart(32,"input",17),m.\u0275\u0275listener("colorPickerChange",(function(e){return t.updateBrandColor(e)})),m.\u0275\u0275pipe(33,"async"),m.\u0275\u0275pipe(34,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(35,"div",18),m.\u0275\u0275elementStart(36,"div",2),m.\u0275\u0275text(37),m.\u0275\u0275pipe(38,"translate"),m.\u0275\u0275elementStart(39,"button",19),m.\u0275\u0275listener("click",(function(e){return t.saveAppearance()})),m.\u0275\u0275text(40,"common.SAVE_CHANGES"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(41,"div",20),m.\u0275\u0275text(42,"admin.TXT_FooterDesc"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(43,"textarea",21),m.\u0275\u0275pipe(44,"async"),m.\u0275\u0275element(45,"br"),m.\u0275\u0275elementStart(46,"span"),m.\u0275\u0275text(47),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(48,"div",18),m.\u0275\u0275elementStart(49,"div",2),m.\u0275\u0275text(50),m.\u0275\u0275pipe(51,"translate"),m.\u0275\u0275elementStart(52,"button",19),m.\u0275\u0275listener("click",(function(e){return t.saveLogo()})),m.\u0275\u0275text(53," common.SAVE_CHANGES "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(54,"div",14),m.\u0275\u0275elementStart(55,"div",6),m.\u0275\u0275elementStart(56,"input",22),m.\u0275\u0275listener("onFileSelected",(function(e){return t.uploadLogo()})),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(57,"br"),m.\u0275\u0275element(58,"div",23),m.\u0275\u0275template(59,b,3,0,"div",24),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(60,"div",25),m.\u0275\u0275template(61,x,1,1,"img",26),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(62,"div",18),m.\u0275\u0275elementStart(63,"div",2),m.\u0275\u0275text(64),m.\u0275\u0275pipe(65,"translate"),m.\u0275\u0275elementStart(66,"button",27),m.\u0275\u0275text(67," common.SAVE_CHANGES "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(68,"div",28),m.\u0275\u0275text(69,"admin.TXT_CustomCSSDesc"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(70,"input",29),m.\u0275\u0275listener("onFileSelected",(function(e){return t.uploadCss()})),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(71,"br"),m.\u0275\u0275template(72,A,5,0,"div",24),m.\u0275\u0275element(73,"div",23),m.\u0275\u0275template(74,C,1,0,"div",30),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("ngrxFormState",m.\u0275\u0275pipeBind1(2,25,t.appearanceFormState$)),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1("",m.\u0275\u0275pipeBind2(5,27,"admin.CUSTOMIZE_APPEARANCE",t.locale.language)," "),m.\u0275\u0275advance(11),m.\u0275\u0275property("ngrxFormControlState",m.\u0275\u0275pipeBind1(16,30,t.appearanceFormState$).controls.theme),m.\u0275\u0275advance(9),m.\u0275\u0275textInterpolate(t.colorErrorMessage),m.\u0275\u0275advance(6),m.\u0275\u0275styleProp("background-color",m.\u0275\u0275pipeBind1(31,32,t.appearanceFormState$).controls.brandColor.value||"#000000"),m.\u0275\u0275advance(2),m.\u0275\u0275styleProp("width",100,"px"),m.\u0275\u0275property("colorPicker",m.\u0275\u0275pipeBind1(33,34,t.appearanceFormState$).controls.brandColor.value)("value",m.\u0275\u0275pipeBind1(34,36,t.appearanceFormState$).controls.brandColor.value)("readonly",!1)("cpWidth",200)("cpOutputFormat","hex")("cpPosition","bottom"),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(38,38,"admin.TXT_Footer",t.locale.language)," "),m.\u0275\u0275advance(6),m.\u0275\u0275property("ngrxFormControlState",m.\u0275\u0275pipeBind1(44,41,t.appearanceFormState$).controls.footerText),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate(t.colorErrorMessage),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(51,43,"admin.TXT_Logo",t.locale.language)," "),m.\u0275\u0275advance(6),m.\u0275\u0275property("uploader",t.logoUploader),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf",t.showRemoveLogo),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",t.href),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(65,46,"admin.TXT_CustomCSS",t.locale.language)," "),m.\u0275\u0275advance(6),m.\u0275\u0275property("uploader",t.cssUploader),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",t.csshref),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",t.csshref))},directives:[g.\u0275angular_packages_forms_forms_y,g.NgControlStatusGroup,g.NgForm,h.NgrxFormDirective,h.NgrxStatusCssClassesDirective,v.L10nTranslateDirective,h.NgrxSelectViewAdapter,h.NgrxFormControlDirective,g.NgSelectOption,g.\u0275angular_packages_forms_forms_x,h.NgrxSelectMultipleOption,h.NgrxSelectOption,h.NgrxFallbackSelectOption,f.ColorPickerDirective,h.NgrxDefaultViewAdapter,y.FileSelectDirective,E.NgIf],pipes:[E.AsyncPipe,v.L10nTranslatePipe],styles:[".color-swatch[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:.75rem;border-radius:50%;vertical-align:middle}.color-swatch[_ngcontent-%COMP%], .color-swatch[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{display:inline-block}"]})}).apply(t,r))||(e.exports=a)},CQUn:function(e,t,n){var r,a;r=[n,t,n("tk/3"),n("fXoL"),n("tk/3")],void 0===(a=(function(e,t,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.http=e,this.API_PATH="/api/admin"}loadAdminCompositeData(){return this.http.get(`${this.API_PATH}/composite`)}loadCompanyGroups(){return this.http.get("/api/security/availableentries")}loadSecurityCharts(){return this.http.get("/api/security/charts")}loadCacheSetting(){return this.http.get(`${this.API_PATH}/disablecache`)}saveAppearance(e){return this.http.post(`${this.API_PATH}/settings`,{CustomColour:e.brandColor,CustomFooterText:e.footerText,CustomThemeName:e.theme})}removeLogo(){return this.http.post(`${this.API_PATH}/logo/remove`,{})}removeCss(){return this.http.delete(`${this.API_PATH}/customcss`)}postCreators(e){return this.http.post(`${this.API_PATH}/creators`,e)}getPersonName(e){return this.http.get(`/api/picker/personname/?id=${encodeURIComponent(e)}`)}addSecurityGroup(e){return this.http.post("/api/security/securitygroups",{primitive:e})}removeSecurityGroup(e){return this.http.delete(`/api/security/securitygroups/${e}`)}getSecurityCharts(){return this.http.get("/api/security/charts")}addSecurityGroupEntry(e){return this.http.post("/api/security/securitygroupentry",e)}removeSecurityGroupEntry(e){return this.http.delete(`/api/security/securitygroupentry/${e}`)}saveSecurityChart(e){return this.http.post(`/api/security/chartsecuritygroups/${e.id}`,e)}saveExternalUsersSetting(e){return this.http.post(`/api/security/externalusers/${e.id}`,Object.assign(Object.assign({},e),{viewGroupId:0,adminGroupId:0,denyGroupId:0}))}saveGlobalExternalUsersSetting(e){return this.http.post("/api/security/externalusers/global",{areExternalUsersAllowed:e})}saveAdminEmail(e,t){return this.http.post(`${this.API_PATH}/adminemail`,{AdminEmail:e,CompanyName:t})}saveCacheSetting(e){return this.http.post(`${this.API_PATH}/disablecache`,{DisableCache:e})}getInfoSource(e){return this.http.get(`${this.API_PATH}/informationsource?sourceId=${e}`)}getSharePointLists(){return this.http.get("/api/sharepoint/alllists")}getSharePointListFields(e){return this.http.get(`/api/sharepoint/fields/${e}/Host`)}saveInformationSource(e){return this.http.post("/api/admin/saveinformationsource",e)}deleteInformationSource(e){return this.http.get(`${this.API_PATH}/removeinformationsource?sourceId=${e}`)}testInformationSource(e){return this.http.get(`/api/info/test?sourceId=${e}`)}loadApiKeys(){return this.http.get(`${this.API_PATH}/apikeys`)}createApiKey(){return this.http.post(`${this.API_PATH}/apikeys`,{})}revokeApiKey(e){return this.http.delete(`${this.API_PATH}/apikeys/${e}`)}}t.AdminService=i,i.\u0275fac=function(e){return new(e||i)(r.\u0275\u0275inject(a.HttpClient))},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac})}).apply(t,r))||(e.exports=a)},Cqpf:function(e,t,n){var r,a;r=[n,t,n("snw9"),n("L5B3"),n("qCKp"),n("kU1M"),n("DIoI"),n("CQUn"),n("fXoL"),n("snw9"),n("CQUn")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class d{constructor(e,t){this.actions$=e,this.adminService=t,this.loadCompositeModel$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.loadCompositeModel),i.switchMap(()=>this.adminService.loadAdminCompositeData().pipe(i.map(e=>r.loadCompositeModelSuccess({model:e})))),i.catchError(()=>a.of(r.loadCompositeModelFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load page data")]))))),this.loadCompanyGroups$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.loadCompanyGroups),i.switchMap(()=>this.adminService.loadCompanyGroups().pipe(i.map(e=>r.loadCompanyGroupsSuccess({entries:e})))),i.catchError(()=>a.of(r.loadCompanyGroupsFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load company groups list")]))))),this.loadCharts$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.loadCharts),i.switchMap(()=>this.adminService.loadSecurityCharts().pipe(i.map(e=>r.loadChartsSuccess({charts:e})))),i.catchError(()=>a.of(r.loadChartsFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load charts list")]))))),this.loadCacheSetting$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.loadCacheSetting),i.switchMap(()=>this.adminService.loadCacheSetting().pipe(i.map(e=>r.loadCacheSettingSuccess({value:e})),i.catchError(()=>a.of(r.loadCacheSettingFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load cache setting")]))))))),this.saveAppearance$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveAppearance),i.switchMap(e=>this.adminService.saveAppearance(e.form).pipe(i.map(e=>r.saveAppearanceSuccess()))))),this.saveCreators$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveCreators),i.switchMap(e=>this.adminService.postCreators(e.creators).pipe(i.map(e=>r.saveCreatorsSuccess({creators:e})))))),this.createSecurityGroup$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.createSecurityGroup),i.mergeMap(e=>this.adminService.addSecurityGroup(e.name).pipe(i.map(e=>r.createSecurityGroupSuccess({group:e})))),i.catchError(()=>a.of(r.createSecurityGroupFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Could not save security group")]))))),this.removeSecurityGroup$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.removeSecurityGroup),i.mergeMap(e=>this.adminService.removeSecurityGroup(e.id).pipe(i.map(e=>r.removeSecurityGroupSuccess({groups:e})))),i.catchError(()=>a.of(r.removeSecurityGroupFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to remove security group")]))))),this.addSecurityGroupEntry$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.addSecurityGroupEntry),i.mergeMap(e=>this.adminService.addSecurityGroupEntry(e.entry).pipe(i.map(e=>r.addSecurityGroupEntrySuccess({group:e})))),i.catchError(()=>a.of(r.addSecurityGroupEntryFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to add security group entry")]))))),this.removeSecurityGroupEntry$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.removeSecurityGroupEntry),i.mergeMap(e=>this.adminService.removeSecurityGroupEntry(e.id).pipe(i.map(e=>r.removeSecurityGroupEntrySuccess({group:e})))),i.catchError(()=>a.of(r.removeSecurityGroupEntryFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to remove security group entry")]))))),this.saveGlobalExternalUsersSetting$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveGlobalExternalSetting),i.switchMap(e=>this.adminService.saveGlobalExternalUsersSetting(e.value).pipe(i.map(e=>r.saveGlobalExternalSettingSuccess({value:e})))),i.catchError(()=>a.of(r.saveGlobalExternalSettingFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to save settings")]))))),this.saveExternalUsersSetting$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveExternalUsersSetting),i.mergeMap(e=>this.adminService.saveExternalUsersSetting(e.chart).pipe(i.map(e=>r.saveExternalUsersSettingSuccess({chart:e})),i.catchError(()=>a.of(r.saveExternalUsersSettingFailure({chart:e.chart})).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to save settings")]))))))),this.saveSecurityChart$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveChart),i.mergeMap(e=>this.adminService.saveSecurityChart(e.chart).pipe(i.map(e=>r.saveChartSuccess({chart:e})),i.catchError(()=>a.of(r.saveChartFailure({chart:e.chart})).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to save settings")]))))))),this.saveAdminEmail$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveAdminEmail),i.mergeMap(e=>this.adminService.saveAdminEmail(e.AdminEmail,e.CompanyName).pipe(i.map(t=>r.saveAdminEmailSuccess({AdminEmail:e.AdminEmail,CompanyName:e.CompanyName})),i.catchError(()=>a.of(r.saveAdminEmailFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to save settings")]))))))),this.saveCacheSetting$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveCacheSetting),i.mergeMap(e=>this.adminService.saveCacheSetting(e.value).pipe(i.mergeMap(e=>[r.saveCacheSettingSuccess({value:e}),new o.ToastSuccess("")]),i.catchError(()=>a.of(r.saveCacheSettingFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to save settings")]))))))),this.loadInformationSource$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.loadInformationSource),i.mergeMap(e=>this.adminService.getInfoSource(e.sourceId).pipe(i.map(e=>r.loadInformationSourceSuccess({source:e})),i.catchError(e=>a.of(r.loadInformationSourceFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load information source")]))))))),this.getSharePointLists$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.getSharePointLists),i.switchMap(()=>this.adminService.getSharePointLists().pipe(i.map(e=>r.getSharePointListsSuccess({lists:e})),i.catchError(e=>a.of(r.getSharePointListsFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load SharePoint lists")]))))))),this.getSharePointListFields$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.getSharePointListFields),i.mergeMap(e=>this.adminService.getSharePointListFields(e.id).pipe(i.map(e=>r.getSharePointListFieldsSuccess({fields:e})),i.catchError(e=>a.of(r.getSharePointListFieldsFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load SharePoint list fields")]))))))),this.saveInformationSource$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.saveInformationSource),i.mergeMap(e=>this.adminService.saveInformationSource(e.source).pipe(i.mergeMap(t=>[r.saveInformationSourceSuccess({id:e.source.InformationSourceId,result:t}),r.loadCompositeModel()]),i.catchError(e=>a.of(r.saveInformationSourceFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to save information source")]))))))),this.deleteInformationSource$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.deleteInformationSource),i.mergeMap(e=>this.adminService.deleteInformationSource(e.id).pipe(i.map(t=>r.deleteInformationSourceSuccess({id:e.id,result:t})),i.catchError(e=>a.of(r.deleteInformationSourceFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to delete information source")]))))))),this.testInformationSource$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.testInformationSource),i.switchMap(e=>this.adminService.testInformationSource(e.id).pipe(i.mergeMap(e=>{const t=[r.testInformationSourceSuccess({result:e})];return e.startsWith("ERROR")?t.push(new o.ToastError(e)):t.push(new o.ToastSuccess(e)),t}),i.catchError(e=>a.of(r.testInformationSourceFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to test information source")]))))))),this.loadApiKeys$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.loadApiKeys),i.switchMap(e=>this.adminService.loadApiKeys().pipe(i.map(e=>r.loadApiKeysSuccess({apiKeys:e})),i.catchError(e=>a.of(r.loadApiKeysFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to load API keys")]))))))),this.createApiKey$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.createApiKey),i.switchMap(e=>this.adminService.createApiKey().pipe(i.map(e=>r.createApiKeySuccess({apiKey:e})),i.catchError(e=>a.of(r.createApiKeyFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to create an API key")]))))))),this.revokeApiKey$=n.createEffect(()=>this.actions$.pipe(n.ofType(r.revokeApiKey),i.switchMap(e=>this.adminService.revokeApiKey(e.id).pipe(i.map(t=>r.revokeApiKeySuccess({id:e.id})),i.catchError(e=>a.of(r.revokeApiKeyFailure()).pipe(i.mergeMap(e=>[e,new o.ToastError("Failed to revoke an API key")])))))))}}t.AdminEffects=d,d.\u0275fac=function(e){return new(e||d)(l.\u0275\u0275inject(c.Actions),l.\u0275\u0275inject(p.AdminService))},d.\u0275prov=l.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}).apply(t,r))||(e.exports=a)},DbYh:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("Z2nh"),n("zY6w"),n("L5B3"),n("qCKp"),n("kt0X"),n("soiQ"),n("DIoI"),n("fXoL"),n("kt0X"),n("ofXK"),n("tyNb"),n("Dvla"),n("Mfq2"),n("1ATV")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p,d,m,u,S,g,h){"use strict";function v(e,t){1&e&&(p.\u0275\u0275elementStart(0,"span"),p.\u0275\u0275text(1,"******"),p.\u0275\u0275elementEnd())}function f(e,t){if(1&e){const e=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"button",23,24),p.\u0275\u0275listener("cbOnSuccess",(function(t){return p.\u0275\u0275restoreView(e),p.\u0275\u0275reference(1).show()}))("mouseleave",(function(t){return p.\u0275\u0275restoreView(e),p.\u0275\u0275reference(1).hide()})),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275element(3,"i",25),p.\u0275\u0275elementEnd()}if(2&e){const e=p.\u0275\u0275nextContext().$implicit,t=p.\u0275\u0275nextContext();p.\u0275\u0275propertyInterpolate("tooltip",p.\u0275\u0275pipeBind2(2,2,"UXChart.TXT_Clipboard",t.locale.language)),p.\u0275\u0275property("cbContent",e.Value)}}function y(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"span",26),p.\u0275\u0275pipe(1,"translate"),p.\u0275\u0275element(2,"i",27),p.\u0275\u0275elementEnd()),2&e){const e=p.\u0275\u0275nextContext(2);p.\u0275\u0275propertyInterpolate("tooltip",p.\u0275\u0275pipeBind2(1,1,e.Resources.AdminStrings.TXT.ValueDisplayWarning,e.locale.language))}}function E(e,t){if(1&e){const e=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"tr"),p.\u0275\u0275elementStart(1,"th",18),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(3,"td"),p.\u0275\u0275text(4),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(5,"td"),p.\u0275\u0275template(6,v,2,0,"span",19),p.\u0275\u0275text(7),p.\u0275\u0275template(8,f,4,5,"button",20),p.\u0275\u0275template(9,y,3,4,"span",21),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(10,"td"),p.\u0275\u0275text(11),p.\u0275\u0275pipe(12,"date"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(13,"td"),p.\u0275\u0275elementStart(14,"button",22),p.\u0275\u0275listener("click",(function(n){p.\u0275\u0275restoreView(e);const r=t.$implicit;return p.\u0275\u0275nextContext().revoke(r.Id)})),p.\u0275\u0275text(15),p.\u0275\u0275pipe(16,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,r=p.\u0275\u0275nextContext();p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(n+1),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(e.Prefix),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",!e.Value),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",e.Value," "),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.Value),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.Value),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(12,8,e.IssuedDateTime,"short")),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(16,11,r.Resources.AdminStrings.BTN.Revoke,r.locale.language))}}Object.defineProperty(t,"__esModule",{value:!0});class b{constructor(e,t){this.locale=e,this.store=t,this.Resources=r,this.unsubscribe=new o.Subject,this.apiKeys$=this.store.pipe(s.select(a.selectApiKeys))}ngOnInit(){this.store.dispatch(i.loadApiKeys())}createApiKey(){this.store.dispatch(i.createApiKey())}revoke(e){const t={cancelButtonText:r.Strings.BUTTON.Cancel,text:r.AdminStrings.DLG.ConfirmRevokeTxt,title:r.AdminStrings.DLG.ConfirmRevokeTitle,successButtonText:r.AdminStrings.BTN.Revoke,successAction:i.revokeApiKey({id:e})};this.store.dispatch(new c.DialogShow({dialogName:l.SharedModals.ConfirmationDialog,options:{options:t}}))}}t.ApiComponent=b,b.\u0275fac=function(e){return new(e||b)(p.\u0275\u0275directiveInject(n.L10N_LOCALE),p.\u0275\u0275directiveInject(d.Store))},b.\u0275cmp=p.\u0275\u0275defineComponent({type:b,selectors:[["toc-api"]],decls:71,vars:47,consts:[[1,"container"],[1,"card"],[1,"btn","btn-warning","col-2","mb-2",3,"click"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","table"],[1,"col-sm-6"],["href","/swagger","target","_blank"],["routerLink","/admin/api-guide","target","_blank"],[1,"row"],[1,"col-sm-4"],["href","https://www.nuget.org/packages/TocApiLibrary"],["src","/img/netlogo.png"],["href","https://pypi.org/project/tocapilibrarypython/"],["width","128","height","128","src","/img/python.png"],["href","https://www.npmjs.com/package/tocapilibraryts"],["src","/img/typescriptlogo.png"],["scrope","row"],[4,"ngIf"],["class","btn btn-sm","ngxClipboard","","triggers","",3,"cbContent","tooltip","cbOnSuccess","mouseleave",4,"ngIf"],["class","ml-2",3,"tooltip",4,"ngIf"],[1,"btn","btn-danger",3,"click"],["ngxClipboard","","triggers","",1,"btn","btn-sm",3,"cbContent","tooltip","cbOnSuccess","mouseleave"],["cpBtn","bs-tooltip"],[1,"fa","fa-clipboard"],[1,"ml-2",3,"tooltip"],[1,"fa","fa-info-circle"]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275elementStart(1,"div",1),p.\u0275\u0275elementStart(2,"h3"),p.\u0275\u0275text(3),p.\u0275\u0275pipe(4,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(5,"p"),p.\u0275\u0275text(6),p.\u0275\u0275pipe(7,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(8,"button",2),p.\u0275\u0275listener("click",(function(e){return t.createApiKey()})),p.\u0275\u0275text(9),p.\u0275\u0275pipe(10,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"table",3),p.\u0275\u0275elementStart(12,"thead"),p.\u0275\u0275elementStart(13,"tr"),p.\u0275\u0275elementStart(14,"th",4),p.\u0275\u0275text(15,"#"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(16,"th",4),p.\u0275\u0275text(17),p.\u0275\u0275pipe(18,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(19,"th",4),p.\u0275\u0275text(20),p.\u0275\u0275pipe(21,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(22,"th",4),p.\u0275\u0275text(23),p.\u0275\u0275pipe(24,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(25,"th",4),p.\u0275\u0275text(26),p.\u0275\u0275pipe(27,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(28,"tbody"),p.\u0275\u0275template(29,E,17,14,"tr",5),p.\u0275\u0275pipe(30,"async"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(31,"div",1),p.\u0275\u0275elementStart(32,"h3"),p.\u0275\u0275text(33),p.\u0275\u0275pipe(34,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(35,"br"),p.\u0275\u0275elementStart(36,"div",6),p.\u0275\u0275elementStart(37,"div",7),p.\u0275\u0275elementStart(38,"a",8),p.\u0275\u0275text(39),p.\u0275\u0275pipe(40,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(41,"div",7),p.\u0275\u0275elementStart(42,"a",9),p.\u0275\u0275text(43),p.\u0275\u0275pipe(44,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(45,"div",1),p.\u0275\u0275elementStart(46,"h3"),p.\u0275\u0275text(47),p.\u0275\u0275pipe(48,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(49,"br"),p.\u0275\u0275elementStart(50,"div",0),p.\u0275\u0275elementStart(51,"div",10),p.\u0275\u0275elementStart(52,"div",11),p.\u0275\u0275elementStart(53,"h2"),p.\u0275\u0275text(54,".Net"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(55,"div",11),p.\u0275\u0275elementStart(56,"h2"),p.\u0275\u0275text(57,"Python"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(58,"div",11),p.\u0275\u0275elementStart(59,"h2"),p.\u0275\u0275text(60,"Typescript"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(61,"div",10),p.\u0275\u0275elementStart(62,"div",11),p.\u0275\u0275elementStart(63,"a",12),p.\u0275\u0275element(64,"img",13),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(65,"div",11),p.\u0275\u0275elementStart(66,"a",14),p.\u0275\u0275element(67,"img",15),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(68,"div",11),p.\u0275\u0275elementStart(69,"a",16),p.\u0275\u0275element(70,"img",17),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(4,12,t.Resources.AdminStrings.TXT.ManageApiKeys,t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(7,15,t.Resources.AdminStrings.TXT.ManageApiKeysDesc,t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(10,18,t.Resources.AdminStrings.BTN.AddApiKey,t.locale.language)),p.\u0275\u0275advance(8),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(18,21,t.Resources.AdminStrings.TXT.Prefix,t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(21,24,t.Resources.AdminStrings.TXT.Value,t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(24,27,t.Resources.AdminStrings.TXT.IssuedAt,t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(27,30,t.Resources.AdminStrings.TXT.Revoke,t.locale.language)),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngForOf",p.\u0275\u0275pipeBind1(30,33,t.apiKeys$)),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(34,35,t.Resources.AdminStrings.TXT.GettingStarted,t.locale.language)),p.\u0275\u0275advance(6),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(40,38,t.Resources.AdminStrings.LNK.ApiDocumentationLink,t.locale.language)),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(44,41,t.Resources.AdminStrings.LNK.ApiTutorialLink,t.locale.language)),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind2(48,44,t.Resources.AdminStrings.TXT.ClientLibraries,t.locale.language)))},directives:[m.NgForOf,u.RouterLinkWithHref,m.NgIf,S.ClipboardDirective,g.TooltipDirective],pipes:[h.L10nTranslatePipe,m.AsyncPipe,m.DatePipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},L5B3:function(e,t,n){var r,a;r=[n,t,n("kt0X")],void 0===(a=(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCompositeModel=n.createAction("[Admin] Load composite model"),t.loadCompositeModelSuccess=n.createAction("[Admin] Load composite model success",n.props()),t.loadCompositeModelFailure=n.createAction("[Admin] Load composite model failure"),t.loadCompanyGroups=n.createAction("[Admin] Load company groups"),t.loadCompanyGroupsSuccess=n.createAction("[Admin] Load company groups success",n.props()),t.loadCompanyGroupsFailure=n.createAction("[Admin] Load company groups failure"),t.loadCharts=n.createAction("[Admin] Load charts"),t.loadChartsSuccess=n.createAction("[Admin] Load charts success",n.props()),t.loadChartsFailure=n.createAction("[Admin] Load charts failure"),t.loadCacheSetting=n.createAction("[Admin] Load cache setting"),t.loadCacheSettingSuccess=n.createAction("[Admin] Load cache setting success",n.props()),t.loadCacheSettingFailure=n.createAction("[Admin] Load cache setting failure"),t.setAppearanceFormFromCompositeModel=n.createAction("[Admin] Set appearance form from model",n.props()),t.saveAppearance=n.createAction("[Admin] Save appearance",n.props()),t.saveAppearanceFailure=n.createAction("[Admin] Save appearance failure"),t.saveAppearanceSuccess=n.createAction("[Admin] Save appearance success"),t.saveCreators=n.createAction("[Admin] Save chart creators",n.props()),t.saveCreatorsSuccess=n.createAction("[Admin] Save chart creators success",n.props()),t.saveCreatorsFailure=n.createAction("[Admin] Save chart creators failure"),t.createSecurityGroup=n.createAction("[Admin] Create security group",n.props()),t.createSecurityGroupSuccess=n.createAction("[Admin] Create security group success",n.props()),t.createSecurityGroupFailure=n.createAction("[Admin] Create security group failure"),t.removeSecurityGroup=n.createAction("[Admin] Remove security group",n.props()),t.removeSecurityGroupSuccess=n.createAction("[Admin] Remove security group success",n.props()),t.removeSecurityGroupFailure=n.createAction("[Admin] Remove security group failure"),t.addSecurityGroupEntry=n.createAction("[Admin] Add security group entry",n.props()),t.addSecurityGroupEntrySuccess=n.createAction("[Admin] Add security group entry success",n.props()),t.addSecurityGroupEntryFailure=n.createAction("[Admin] Add security group entry failure"),t.removeSecurityGroupEntry=n.createAction("[Admin] Remove security group entry",n.props()),t.removeSecurityGroupEntrySuccess=n.createAction("[Admin] Remove security group entry success",n.props()),t.removeSecurityGroupEntryFailure=n.createAction("[Admin] Remove security group entry failure"),t.saveGlobalExternalSetting=n.createAction("[Admin] Save global external users setting",n.props()),t.saveGlobalExternalSettingSuccess=n.createAction("[Admin] Save global external users setting success",n.props()),t.saveGlobalExternalSettingFailure=n.createAction("[Admin] Save global external users setting failure"),t.saveExternalUsersSetting=n.createAction("[Admin] Save external users setting",n.props()),t.saveExternalUsersSettingSuccess=n.createAction("[Admin] Save external users setting success",n.props()),t.saveExternalUsersSettingFailure=n.createAction("[Admin] Save external users setting failure",n.props()),t.saveChart=n.createAction("[Admin] Save security chart",n.props()),t.saveChartSuccess=n.createAction("[Admin] Save security chart success",n.props()),t.saveChartFailure=n.createAction("[Admin] Save security chart failure",n.props()),t.saveAdminEmail=n.createAction("[Admin] Save admin email",n.props()),t.saveAdminEmailSuccess=n.createAction("[Admin] Save admin email success",n.props()),t.saveAdminEmailFailure=n.createAction("[Admin] Save admin email failure"),t.saveCacheSetting=n.createAction("[Admin] Save cache setting",n.props()),t.saveCacheSettingSuccess=n.createAction("[Admin] Save cache setting success",n.props()),t.saveCacheSettingFailure=n.createAction("[Admin] Save cache setting failure"),t.loadInformationSource=n.createAction("[Admin] Load information source",n.props()),t.loadInformationSourceSuccess=n.createAction("[Admin] Load information source success",n.props()),t.loadInformationSourceFailure=n.createAction("[Admin] Load information source failure"),t.getSharePointLists=n.createAction("[Admin] Get SP lists"),t.getSharePointListsSuccess=n.createAction("[Admin] Get SP lists success",n.props()),t.getSharePointListsFailure=n.createAction("[Admin] Get SP lists failure"),t.getSharePointListFields=n.createAction("[Admin] Get SP list fields",n.props()),t.getSharePointListFieldsSuccess=n.createAction("[Admin] Get SP list fields success",n.props()),t.getSharePointListFieldsFailure=n.createAction("[Admin] Get SP list fields failure"),t.saveInformationSource=n.createAction("[Admin] Save information source",n.props()),t.saveInformationSourceSuccess=n.createAction("[Admin] Save information source success",n.props()),t.saveInformationSourceFailure=n.createAction("[Admin] Save information source failure"),t.deleteInformationSource=n.createAction("[Admin] Delete information source",n.props()),t.deleteInformationSourceSuccess=n.createAction("[Admin] Delete information source success",n.props()),t.deleteInformationSourceFailure=n.createAction("[Admin] Delete information source failure"),t.testInformationSource=n.createAction("[Admin] Test information source",n.props()),t.testInformationSourceSuccess=n.createAction("[Admin] Test information source success",n.props()),t.testInformationSourceFailure=n.createAction("[Admin] Test information source failure"),t.clearSavedSourceId=n.createAction("[Admin] Clear saved source id"),t.loadApiKeys=n.createAction("[Admin] Load API keys"),t.loadApiKeysSuccess=n.createAction("[Admin] Load API keys success",n.props()),t.loadApiKeysFailure=n.createAction("[Admin] Load API keys failure"),t.createApiKey=n.createAction("[Admin] Create API key"),t.createApiKeySuccess=n.createAction("[Admin] Create API key success",n.props()),t.createApiKeyFailure=n.createAction("[Admin] Create API key failure"),t.revokeApiKey=n.createAction("[Admin] Revoke API key",n.props()),t.revokeApiKeySuccess=n.createAction("[Admin] Revoke API key success",n.props()),t.revokeApiKeyFailure=n.createAction("[Admin] Revoke API key failure")}).apply(t,r))||(e.exports=a)},Q4kr:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("Z2nh"),n("zY6w"),n("L5B3"),n("qCKp"),n("kt0X"),n("kU1M"),n("soiQ"),n("DIoI"),n("fXoL"),n("kt0X"),n("1ATV"),n("3Pt+"),n("ofXK")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p,d,m,u,S,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class h{constructor(e,t){this.locale=e,this.store=t,this.Resources=r,this.adminEmail="",this.companyName="",this.unsubscribe=new o.Subject,this.disableCacheSetting$=this.store.pipe(s.select(a.selectDisableCacheSetting)),this.disableCacheSetting$.pipe(l.takeUntil(this.unsubscribe)).subscribe(e=>{null===e&&this.store.dispatch(i.loadCacheSetting())}),this.model$=t.pipe(s.select(a.selectCompositeModel)),this.model$.pipe(l.takeUntil(this.unsubscribe)).subscribe(e=>{null!==e?(this.adminEmail=e.AdminEmailAndCompanyName.AdminEmail,this.companyName=e.AdminEmailAndCompanyName.CompanyName):this.store.dispatch(i.loadCompositeModel())})}ngOnInit(){}saveCacheSetting(e){this.store.dispatch(i.saveCacheSetting({value:e}))}saveAdminEmail(){this.store.dispatch(i.saveAdminEmail({AdminEmail:this.adminEmail,CompanyName:this.companyName}))}deleteAccount(){this.store.dispatch(new p.DialogShow({dialogName:c.SharedModals.ConfirmationDialog,options:{options:{cancelButtonText:r.Strings.BUTTON.Cancel,text:r.Strings.TXT.DeleteAccountConfirmationText,title:r.Strings.TXT.DeleteAccountConfirmationDialogTitle,successButtonText:r.Strings.BTN.DeleteAccountConfirmation,callback:()=>{document.getElementById("delete-account-form").submit()}}}}))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}t.AccountComponent=h,h.\u0275fac=function(e){return new(e||h)(d.\u0275\u0275directiveInject(n.L10N_LOCALE),d.\u0275\u0275directiveInject(m.Store))},h.\u0275cmp=d.\u0275\u0275defineComponent({type:h,selectors:[["toc-admin-account"]],decls:52,vars:49,consts:[[1,"container"],[1,"card"],[1,"section-heading"],["ng-disabled","saving","translate","common.SAVE_CHANGES",1,"btn","btn-success",3,"click"],[1,"suffix"],["type","text","ng-disabled","saving",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","horizontal-form"],[1,"col"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customCheck1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customCheck1",1,"custom-control-label"],["id","delete-account-button-ng",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-md-12"],["id","delete-account-form","method","POST","action","/account/delete"],[1,"alert","alert-danger",2,"padding","5px"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"div",1),d.\u0275\u0275elementStart(2,"div",2),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementStart(5,"button",3),d.\u0275\u0275listener("click",(function(e){return t.saveAdminEmail()})),d.\u0275\u0275text(6,"Save Changes"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"div",4),d.\u0275\u0275text(8),d.\u0275\u0275pipe(9,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(10,"input",5),d.\u0275\u0275listener("ngModelChange",(function(e){return t.companyName=e})),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(11,"div",1),d.\u0275\u0275elementStart(12,"div",2),d.\u0275\u0275text(13),d.\u0275\u0275pipe(14,"translate"),d.\u0275\u0275elementStart(15,"button",3),d.\u0275\u0275listener("click",(function(e){return t.saveAdminEmail()})),d.\u0275\u0275text(16,"Save Changes"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(17,"div",4),d.\u0275\u0275text(18),d.\u0275\u0275pipe(19,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(20,"input",5),d.\u0275\u0275listener("ngModelChange",(function(e){return t.adminEmail=e})),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(21,"div",1),d.\u0275\u0275elementStart(22,"div",2),d.\u0275\u0275text(23),d.\u0275\u0275pipe(24,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(25,"div",4),d.\u0275\u0275text(26),d.\u0275\u0275pipe(27,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(28,"div",6),d.\u0275\u0275elementStart(29,"div",7),d.\u0275\u0275elementStart(30,"div",8),d.\u0275\u0275elementStart(31,"input",9),d.\u0275\u0275listener("ngModelChange",(function(e){return t.saveCacheSetting(e)})),d.\u0275\u0275pipe(32,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(33,"label",10),d.\u0275\u0275text(34),d.\u0275\u0275pipe(35,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(36,"div",1),d.\u0275\u0275elementStart(37,"div",2),d.\u0275\u0275text(38),d.\u0275\u0275pipe(39,"translate"),d.\u0275\u0275elementStart(40,"button",11),d.\u0275\u0275listener("click",(function(e){return t.deleteAccount()})),d.\u0275\u0275text(41),d.\u0275\u0275pipe(42,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(43,"div",4),d.\u0275\u0275text(44),d.\u0275\u0275pipe(45,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(46,"div",12),d.\u0275\u0275elementStart(47,"div",13),d.\u0275\u0275element(48,"form",14),d.\u0275\u0275elementStart(49,"p",15),d.\u0275\u0275text(50),d.\u0275\u0275pipe(51,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind2(4,14,"admin.TXT_Company",t.locale.language)," "),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(9,17,"admin.TXT_CompanyDesc",t.locale.language)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngModel",t.companyName),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind2(14,20,"admin.TXT_Admin",t.locale.language)," "),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(19,23,"admin.TXT_AdminDesc",t.locale.language)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngModel",t.adminEmail),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(24,26,"admin.TXT_Data",t.locale.language)),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(27,29,"admin.TXT_DataDesc",t.locale.language)),d.\u0275\u0275advance(5),d.\u0275\u0275property("ngModel",d.\u0275\u0275pipeBind1(32,32,t.disableCacheSetting$)),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(35,34,"admin.TXT_DataLab",t.locale.language)),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind2(39,37,"admin.TXT_Delete",t.locale.language)," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(42,40,"admin.TXT_Delete",t.locale.language)),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(45,43,"admin.TXT_DeleteDesc",t.locale.language)),d.\u0275\u0275advance(6),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(51,46,"admin.TXT_DeleteDesc2",t.locale.language)," "))},directives:[u.L10nTranslateDirective,S.DefaultValueAccessor,S.NgControlStatus,S.NgModel,S.CheckboxControlValueAccessor,S.\u0275angular_packages_forms_forms_y,S.NgControlStatusGroup,S.NgForm],pipes:[u.L10nTranslatePipe,g.AsyncPipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},ZQU4:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("kt0X"),n("zY6w"),n("L5B3"),n("qCKp"),n("Z2nh"),n("kU1M"),n("jfTb"),n("CQUn"),n("jhN1"),n("fXoL"),n("kt0X"),n("jfTb"),n("CQUn"),n("jhN1"),n("1ATV"),n("3Pt+"),n("qCdp"),n("ofXK"),n("atpF"),n("pga3")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p,d,m,u,S,g,h,v,f,y,E,b,x){"use strict";function A(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"li",42),m.\u0275\u0275elementStart(1,"span"),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"button",43),m.\u0275\u0275listener("click",(function(n){m.\u0275\u0275restoreView(e);const r=t.$implicit;return m.\u0275\u0275nextContext().removeCreator(r.id)})),m.\u0275\u0275text(4,"\xd7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(e.name)}}function C(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"option",44),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;m.\u0275\u0275property("ngValue",e),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",e.Name,"")}}function T(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",45),m.\u0275\u0275listener("click",(function(t){m.\u0275\u0275restoreView(e);const n=m.\u0275\u0275nextContext();return n.removeSecurityGroup(n.selectedSecurityGroup.Id)})),m.\u0275\u0275element(1,"i",46),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd()}if(2&e){const e=m.\u0275\u0275nextContext();m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(3,1,"admin.TXT_RemoveGroup",e.locale.language)," ")}}function I(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"option",44),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;m.\u0275\u0275property("ngValue",e),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",e.value,"")}}function w(e,t){1&e&&(m.\u0275\u0275elementStart(0,"li",56),m.\u0275\u0275text(1,"admin.TXT_None"),m.\u0275\u0275elementEnd())}function M(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"li",57),m.\u0275\u0275text(1),m.\u0275\u0275elementStart(2,"button",43),m.\u0275\u0275listener("click",(function(n){m.\u0275\u0275restoreView(e);const r=t.$implicit;return m.\u0275\u0275nextContext(2).removeSecurityGroupEntry(r.Id)})),m.\u0275\u0275text(3,"\xd7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1("",e.UserName," ")}}function G(e,t){1&e&&(m.\u0275\u0275elementStart(0,"li",58),m.\u0275\u0275text(1," admin.TXT_NoGroups"),m.\u0275\u0275elementEnd())}function k(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"li",42),m.\u0275\u0275text(1),m.\u0275\u0275elementStart(2,"button",43),m.\u0275\u0275listener("click",(function(n){m.\u0275\u0275restoreView(e);const r=t.$implicit;return m.\u0275\u0275nextContext(2).removeSecurityGroupEntry(r.Id)})),m.\u0275\u0275text(3,"\xd7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",e.GroupName," ")}}function P(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",47),m.\u0275\u0275elementStart(1,"div",4),m.\u0275\u0275elementStart(2,"div",14),m.\u0275\u0275elementStart(3,"b",48),m.\u0275\u0275text(4,"Add Users to Security Group"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",14),m.\u0275\u0275elementStart(6,"b",49),m.\u0275\u0275text(7," Add Groups to Security Group"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"div",4),m.\u0275\u0275elementStart(9,"div",14),m.\u0275\u0275elementStart(10,"input",6),m.\u0275\u0275listener("ngModelChange",(function(t){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().securityUserPickerString=t}))("typeaheadOnSelect",(function(t){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().onSelectSecurityPerson(t)})),m.\u0275\u0275pipe(11,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(12,"p"),m.\u0275\u0275element(13,"div",50),m.\u0275\u0275elementStart(14,"button",7),m.\u0275\u0275listener("click",(function(t){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().addToSecurityGroup("user")})),m.\u0275\u0275element(15,"i",8),m.\u0275\u0275text(16),m.\u0275\u0275pipe(17,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(18,"div",14),m.\u0275\u0275elementStart(19,"select",19),m.\u0275\u0275listener("ngModelChange",(function(t){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().addedGroup=t})),m.\u0275\u0275elementStart(20,"option",44),m.\u0275\u0275text(21),m.\u0275\u0275pipe(22,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(23,I,2,2,"option",21),m.\u0275\u0275pipe(24,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(25,"p"),m.\u0275\u0275element(26,"div",50),m.\u0275\u0275elementStart(27,"button",7),m.\u0275\u0275listener("click",(function(t){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().addToSecurityGroup("group")})),m.\u0275\u0275element(28,"i",8),m.\u0275\u0275text(29),m.\u0275\u0275pipe(30,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(31,"p"),m.\u0275\u0275elementStart(32,"div",4),m.\u0275\u0275elementStart(33,"div",14),m.\u0275\u0275elementStart(34,"b",51),m.\u0275\u0275text(35,"Users in Security Group"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(36,"ul",10),m.\u0275\u0275template(37,w,2,0,"li",52),m.\u0275\u0275template(38,M,4,1,"li",53),m.\u0275\u0275pipe(39,"callback"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(40,"div",14),m.\u0275\u0275elementStart(41,"b",54),m.\u0275\u0275text(42,"Groups in Security Group"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(43,"ul",10),m.\u0275\u0275template(44,G,2,0,"li",55),m.\u0275\u0275template(45,k,4,1,"li",11),m.\u0275\u0275pipe(46,"callback"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){const e=m.\u0275\u0275nextContext();var n;const t=null==(n=m.\u0275\u0275pipeBind1(24,27,e.availableEntries$))?null:n.groups;m.\u0275\u0275advance(10),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind2(11,18,e.Resources.AuditStrings.SelectStartingPersonPlaceholder,e.locale.language)),m.\u0275\u0275property("ngModel",e.securityUserPickerString)("typeahead",e.securityUserPickerSource$)("typeaheadAsync",!0)("typeaheadScrollable",!0)("typeaheadOptionsInScrollableView",8),m.\u0275\u0275advance(4),m.\u0275\u0275property("disabled",null===e.addedUser),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(17,21,"admin.TXT_AddUser",e.locale.language),""),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngModel",e.addedGroup),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngValue",null),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind2(22,24,"admin.TXT_SelectAGroup",e.locale.language)),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",t),m.\u0275\u0275advance(4),m.\u0275\u0275property("disabled",null===e.addedGroup),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(30,29,"admin.TXT_AddGroup",e.locale.language),""),m.\u0275\u0275advance(8),m.\u0275\u0275property("ngIf",!e.hasItems("user")),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",m.\u0275\u0275pipeBind2(39,32,e.selectedSecurityGroup.SecurityGroupEntries,e.userEntry)),m.\u0275\u0275advance(6),m.\u0275\u0275property("ngIf",!e.hasItems("group")),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",m.\u0275\u0275pipeBind2(46,35,e.selectedSecurityGroup.SecurityGroupEntries,e.groupEntry))}}function F(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"option",44),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;m.\u0275\u0275property("ngValue",e.Id),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",e.Name,"")}}function O(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"option",44),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;m.\u0275\u0275property("ngValue",e.Id),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",e.Name,"")}}function _(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"option",44),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;m.\u0275\u0275property("ngValue",e.Id),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",e.Name,"")}}function L(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"td"),m.\u0275\u0275elementStart(4,"select",59),m.\u0275\u0275listener("ngModelChange",(function(n){m.\u0275\u0275restoreView(e);const r=t.$implicit;return m.\u0275\u0275nextContext().saveChart(r,"viewGroupId",n)})),m.\u0275\u0275pipe(5,"async"),m.\u0275\u0275elementStart(6,"option",60),m.\u0275\u0275text(7,"admin.TXT_Everybody"),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(8,F,2,2,"option",21),m.\u0275\u0275pipe(9,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"td"),m.\u0275\u0275elementStart(11,"select",59),m.\u0275\u0275listener("ngModelChange",(function(n){m.\u0275\u0275restoreView(e);const r=t.$implicit;return m.\u0275\u0275nextContext().saveChart(r,"adminGroupId",n)})),m.\u0275\u0275pipe(12,"async"),m.\u0275\u0275elementStart(13,"option",61),m.\u0275\u0275text(14,"admin.TXT_Creators"),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(15,O,2,2,"option",21),m.\u0275\u0275pipe(16,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(17,"td"),m.\u0275\u0275elementStart(18,"select",59),m.\u0275\u0275listener("ngModelChange",(function(n){m.\u0275\u0275restoreView(e);const r=t.$implicit;return m.\u0275\u0275nextContext().saveChart(r,"denyGroupId",n)})),m.\u0275\u0275pipe(19,"async"),m.\u0275\u0275elementStart(20,"option",62),m.\u0275\u0275text(21,"admin.TXT_Nobody"),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(22,_,2,2,"option",21),m.\u0275\u0275pipe(23,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,i=m.\u0275\u0275nextContext();var n;const o=null==(n=m.\u0275\u0275pipeBind1(9,15,i.model$))?null:n.SecurityGroups;var r;const s=null==(r=m.\u0275\u0275pipeBind1(16,19,i.model$))?null:r.SecurityGroups;var a;const l=null==(a=m.\u0275\u0275pipeBind1(23,23,i.model$))?null:a.SecurityGroups;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(e.name),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngModel",e.viewGroupId)("disabled",m.\u0275\u0275pipeBind1(5,13,i.chartRequests$)[e.id]),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngValue",0),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",o),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngModel",e.adminGroupId)("disabled",m.\u0275\u0275pipeBind1(12,17,i.chartRequests$)[e.id]),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngValue",0),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",s),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngModel",e.denyGroupId)("disabled",m.\u0275\u0275pipeBind1(19,21,i.chartRequests$)[e.id]),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngValue",0),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",l)}}function $(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"td"),m.\u0275\u0275elementStart(4,"select",63),m.\u0275\u0275listener("ngModelChange",(function(n){m.\u0275\u0275restoreView(e);const r=t.$implicit;return m.\u0275\u0275nextContext().saveExternalUsersSetting(r,n)})),m.\u0275\u0275pipe(5,"async"),m.\u0275\u0275elementStart(6,"option",39),m.\u0275\u0275text(7,"Not allowed"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"option",39),m.\u0275\u0275text(9,"Allowed"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(e.name),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngModel",e.areExternalUsersAllowed)("disabled",m.\u0275\u0275pipeBind1(5,5,n.chartExternalRequests$)[e.id]||!n.globalExternalUsersSetting),m.\u0275\u0275advance(2),m.\u0275\u0275property("value",!1),m.\u0275\u0275advance(2),m.\u0275\u0275property("value",!0)}}Object.defineProperty(t,"__esModule",{value:!0});class N{constructor(e,t,n,c,p){this.locale=e,this.store=t,this.chartService=n,this.adminService=c,this.title=p,this.Resources=s,this.newCreator=null,this.addedUser=null,this.addedGroup=null,this.newSecurityGroupName="",this.selectedSecurityGroup=null,this.globalExternalUsersSetting=!1,this.unsubscribe=new o.Subject,this.userEntry=e=>!!e.UserId||!!e.UserName,this.groupEntry=e=>!!e.GroupName,this.model$=t.pipe(r.select(a.selectCompositeModel)),this.model$.pipe(l.takeUntil(this.unsubscribe)).subscribe(e=>{null!==e?(this.creators=e.Creators?e.Creators.map(e=>({id:e,name:e})):[],this.updateCreatorInfo(),null!==this.selectedSecurityGroup&&(this.selectedSecurityGroup=e.SecurityGroups.find(e=>e.Id===this.selectedSecurityGroup.Id)),this.globalExternalUsersSetting=e.GlobalExternalUsersSetting):this.store.dispatch(i.loadCompositeModel())}),this.availableEntries$=t.pipe(r.select(a.selectAvailableEntries)),this.availableEntries$.pipe(l.takeUntil(this.unsubscribe)).subscribe(e=>{null!==e||this.store.dispatch(i.loadCompanyGroups())}),this.charts$=t.pipe(r.select(a.selectCharts)),this.charts$.pipe(l.takeUntil(this.unsubscribe)).subscribe(e=>{null!==e||this.store.dispatch(i.loadCharts())}),p.setTitle("Settings - Security"),this.chartRequests$=this.store.pipe(r.select(a.selectChartRequests)),this.chartExternalRequests$=this.store.pipe(r.select(a.selectChartExternalRequests))}ngOnInit(){this.store.pipe(r.select(a.selectSelectedSecurityGroupId),l.withLatestFrom(this.model$),l.takeUntil(this.unsubscribe)).subscribe(([e,t])=>{if(0!==e&&t&&t.SecurityGroups&&t.SecurityGroups.length>0){const n=t.SecurityGroups.find(t=>t.Id===e);n&&(this.selectedSecurityGroup=n,this.newSecurityGroupName="")}}),this.peoplePickerSource$=new o.Observable(e=>{e.next(this.peoplePickerSearchString)}).pipe(l.mergeMap(e=>this.chartService.searchOrganization(e).pipe(l.map(e=>e.map(e=>(e.TypeaheadTitle=e.JobTitle?`${e.DisplayName} - ${e.JobTitle}`:e.DisplayName,e)))))),this.securityUserPickerSource$=new o.Observable(e=>{e.next(this.securityUserPickerString)}).pipe(l.mergeMap(e=>this.chartService.searchOrganization(e).pipe(l.map(e=>e.map(e=>(e.TypeaheadTitle=e.JobTitle?`${e.DisplayName} - ${e.JobTitle}`:e.DisplayName,e))))))}onSelectPerson(e){console.log(e),this.newCreator=e.item}onSelectSecurityPerson(e){console.log(e),this.addedUser=e.item}addCreator(){null!==this.newCreator&&this.model$.pipe(l.take(1),l.map(e=>{-1===e.Creators.findIndex(e=>e===this.newCreator.UniqueId)&&(this.store.dispatch(i.saveCreators({creators:[...e.Creators,this.newCreator.UniqueId]})),this.newCreator=null,this.peoplePickerSearchString="")})).subscribe()}removeCreator(e){this.model$.pipe(l.take(1),l.map(t=>{this.store.dispatch(i.saveCreators({creators:t.Creators.filter(t=>t!==e)})),this.newCreator=null,this.peoplePickerSearchString=""})).subscribe()}updateCreatorInfo(){this.creators.forEach(e=>{this.adminService.getPersonName(e.id).subscribe(t=>{e.name=t})})}addSecurityGroup(){""!==this.newSecurityGroupName&&null!==this.newSecurityGroupName&&this.store.dispatch(i.createSecurityGroup({name:this.newSecurityGroupName}))}removeSecurityGroup(e){this.store.dispatch(i.removeSecurityGroup({id:e}))}addToSecurityGroup(e){if(console.log("adding",e),!this.selectedSecurityGroup)return;const t={Id:0,SecurityGroupId:this.selectedSecurityGroup.Id};"group"===e&&(t.GroupName=this.addedGroup.value),"user"===e&&(t.UserId=this.addedUser.UniqueId,t.UserName=this.addedUser.DisplayName,this.securityUserPickerString=""),this.store.dispatch(i.addSecurityGroupEntry({entry:t})),this.addedUser=null,this.addedGroup=null}removeSecurityGroupEntry(e){this.store.dispatch(i.removeSecurityGroupEntry({id:e}))}hasItems(e){return null!==this.selectedSecurityGroup&&null!=this.selectedSecurityGroup.SecurityGroupEntries&&("user"===e?-1!==this.selectedSecurityGroup.SecurityGroupEntries.findIndex(e=>!!e.UserId||!!e.UserName):"group"===e?-1!==this.selectedSecurityGroup.SecurityGroupEntries.findIndex(e=>!!e.GroupName):void 0)}saveGlobalExternalSetting(e){this.store.dispatch(i.saveGlobalExternalSetting({value:e}))}saveExternalUsersSetting(e,t){this.store.dispatch(i.saveExternalUsersSetting({chart:Object.assign(Object.assign({},e),{areExternalUsersAllowed:t})}))}saveChart(e,t,n){console.log(n);const r=Object.assign({},e);r[t]=n,this.store.dispatch(i.saveChart({chart:r}))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}t.SecurityComponent=N,N.\u0275fac=function(e){return new(e||N)(m.\u0275\u0275directiveInject(n.L10N_LOCALE),m.\u0275\u0275directiveInject(u.Store),m.\u0275\u0275directiveInject(S.ChartService),m.\u0275\u0275directiveInject(g.AdminService),m.\u0275\u0275directiveInject(h.Title))},N.\u0275cmp=m.\u0275\u0275defineComponent({type:N,selectors:[["toc-admin-security"]],decls:94,vars:41,consts:[[1,"container"],[1,"card"],["translate","admin.TXT_ManageAdmin",1,"section-heading"],["translate","admin.TXT_ManageAdminDesc",1,"suffix"],[1,"row"],[1,"col-12","col-md-6"],["typeaheadOptionsLimit","20","container","body","typeaheadWaitMs","200","typeaheadOptionField","TypeaheadTitle",1,"form-control",3,"ngModel","typeahead","typeaheadAsync","typeaheadScrollable","typeaheadOptionsInScrollableView","placeholder","ngModelChange","typeaheadOnSelect"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-plus-circle","fa-lg"],[1,"col-12","col-md-6","mt-2","mt-md-0"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["translate","admin.TXT_ManageGroups",1,"section-heading"],["translate","admin.TXT_ManageGroupsDesc",1,"suffix"],[1,"col-md-4"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"input-group-btn"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-control",3,"ngModel","ngModelChange"],["translate","admin.TXT_SelectGroup","selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","btn btn-danger",3,"click",4,"ngIf"],["id","manage-security-group",4,"ngIf"],["translate","admin.TXT_AssignTitle",1,"section-heading"],["translate","admin.TXT_AssignDesc",1,"suffix"],[1,"table-responsive","col-md-12"],[1,"table","table-hover"],[1,"theader"],["translate","admin.TXT_OrgChart"],["translate","admin.TXT_ViewGroup"],["translate","admin.TXT_AdminGroup"],["translate","admin.TXT_DenyGroup"],[4,"ngFor","ngForOf"],["translate","admin.TXT_ExternalTitle",1,"section-heading"],["translate","admin.TXT_ExternalDesc",1,"suffix"],["translate","admin.TXT_GlobalSetting",1,"subheading","mb-0","mt-1"],["translate","admin.TXT_GlobalDesc",1,"mt-1"],["ng-disabled","saving",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value"],["translate","admin.TXT_ChartSetting",1,"subheading"],["translate","admin.TXT_ChartExternalUser"],[1,"list-group-item"],["type","button",1,"close",3,"click"],[3,"ngValue"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash","fa-lg"],["id","manage-security-group"],["translate","admin.TXT_AddUserToGroup"],["translate","admin.TXT_AddGroupToGroup"],[1,"clearfix"],["translate","admin.TXT_UsersInGroup"],["class","list-group-item","ng-if","(security.currentGroup.SecurityGroupEntries|users).length == 0","translate","admin.TXT_None",4,"ngIf"],["class","list-group-item","ng-repeat","user in security.currentGroup.SecurityGroupEntries|users",4,"ngFor","ngForOf"],["translate","admin.TXT_GroupsInGroup"],["class","list-group-item","translate","admin.TXT_NoGroups",4,"ngIf"],["ng-if","(security.currentGroup.SecurityGroupEntries|users).length == 0","translate","admin.TXT_None",1,"list-group-item"],["ng-repeat","user in security.currentGroup.SecurityGroupEntries|users",1,"list-group-item"],["translate","admin.TXT_NoGroups",1,"list-group-item"],["ng-options","group.Id as group.Name for group in securityGroups",1,"form-control",3,"ngModel","disabled","ngModelChange"],["translate","admin.TXT_Everybody",3,"ngValue"],["translate","admin.TXT_Creators",3,"ngValue"],["translate","admin.TXT_Nobody",3,"ngValue"],["ng-options","o.v as o.n for o in [{ n: 'Not allowed', v: false }, { n: 'Allowed', v: true }]",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"div",2),m.\u0275\u0275text(3,"Manage chart administrators"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"div",3),m.\u0275\u0275text(5,"Control the list of users who have administrator privileges to all charts"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"div",4),m.\u0275\u0275elementStart(7,"div",5),m.\u0275\u0275elementStart(8,"input",6),m.\u0275\u0275listener("ngModelChange",(function(e){return t.peoplePickerSearchString=e}))("typeaheadOnSelect",(function(e){return t.onSelectPerson(e)})),m.\u0275\u0275pipe(9,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(10,"br"),m.\u0275\u0275elementStart(11,"button",7),m.\u0275\u0275listener("click",(function(e){return t.addCreator()})),m.\u0275\u0275element(12,"i",8),m.\u0275\u0275text(13),m.\u0275\u0275pipe(14,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(15,"div",9),m.\u0275\u0275elementStart(16,"ul",10),m.\u0275\u0275template(17,A,5,1,"li",11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(18,"div",1),m.\u0275\u0275elementStart(19,"div",12),m.\u0275\u0275text(20,"Manage Security Groups"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"div",13),m.\u0275\u0275text(22,"Use this page to control access to charts, define groups of people who can view or administrate specific charts and restrict access to charts to certain groups of people within the organisation."),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(23,"div",4),m.\u0275\u0275elementStart(24,"div",14),m.\u0275\u0275elementStart(25,"div",15),m.\u0275\u0275elementStart(26,"input",16),m.\u0275\u0275listener("ngModelChange",(function(e){return t.newSecurityGroupName=e})),m.\u0275\u0275pipe(27,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"span",17),m.\u0275\u0275elementStart(29,"button",18),m.\u0275\u0275listener("click",(function(e){return t.addSecurityGroup()})),m.\u0275\u0275element(30,"i",8),m.\u0275\u0275text(31),m.\u0275\u0275pipe(32,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(33,"br"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(34,"div",4),m.\u0275\u0275elementStart(35,"div",14),m.\u0275\u0275elementStart(36,"select",19),m.\u0275\u0275listener("ngModelChange",(function(e){return t.selectedSecurityGroup=e})),m.\u0275\u0275elementStart(37,"option",20),m.\u0275\u0275text(38,"Select existing group"),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(39,C,2,2,"option",21),m.\u0275\u0275pipe(40,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(41,"br"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(42,"div",14),m.\u0275\u0275template(43,T,4,4,"button",22),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(44,P,47,38,"div",23),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(45,"div",1),m.\u0275\u0275elementStart(46,"div",24),m.\u0275\u0275text(47,"Assign Groups to Charts"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(48,"div",25),m.\u0275\u0275text(49,"Manage which charts each admin group can access here"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(50,"div",4),m.\u0275\u0275elementStart(51,"div",26),m.\u0275\u0275elementStart(52,"table",27),m.\u0275\u0275elementStart(53,"thead",28),m.\u0275\u0275elementStart(54,"tr"),m.\u0275\u0275elementStart(55,"th",29),m.\u0275\u0275text(56,"Organization Chart"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(57,"th",30),m.\u0275\u0275text(58,"View Only Group"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(59,"th",31),m.\u0275\u0275text(60,"Admin Group"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(61,"th",32),m.\u0275\u0275text(62,"Deny Access To"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(63,L,24,25,"tr",33),m.\u0275\u0275pipe(64,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(65,"div",1),m.\u0275\u0275elementStart(66,"div",34),m.\u0275\u0275text(67,"External user access"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(68,"div",35),m.\u0275\u0275text(69,"Control whether charts can be shared outside of TeamOrgChart"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(70,"div",36),m.\u0275\u0275text(71,"Global setting"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(72,"p",37),m.\u0275\u0275text(73,"Disallowing access globally overrides all chart specific settings"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(74,"div",4),m.\u0275\u0275elementStart(75,"div",14),m.\u0275\u0275elementStart(76,"select",38),m.\u0275\u0275listener("ngModelChange",(function(e){return t.globalExternalUsersSetting=e}))("change",(function(e){return t.saveGlobalExternalSetting(t.globalExternalUsersSetting)})),m.\u0275\u0275elementStart(77,"option",39),m.\u0275\u0275text(78,"Not allowed"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(79,"option",39),m.\u0275\u0275text(80,"Allowed"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(81,"div",40),m.\u0275\u0275text(82,"Chart specific settings"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(83,"div",4),m.\u0275\u0275elementStart(84,"div",26),m.\u0275\u0275elementStart(85,"table",27),m.\u0275\u0275elementStart(86,"thead",28),m.\u0275\u0275elementStart(87,"tr"),m.\u0275\u0275elementStart(88,"th",29),m.\u0275\u0275text(89,"Organization Chart"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(90,"th",41),m.\u0275\u0275text(91,"External users access"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(92,$,10,7,"tr",33),m.\u0275\u0275pipe(93,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n;const e=null==(n=m.\u0275\u0275pipeBind1(40,35,t.model$))?null:n.SecurityGroups;m.\u0275\u0275advance(8),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind2(9,23,t.Resources.AuditStrings.SelectStartingPersonPlaceholder,t.locale.language)),m.\u0275\u0275property("ngModel",t.peoplePickerSearchString)("typeahead",t.peoplePickerSource$)("typeaheadAsync",!0)("typeaheadScrollable",!0)("typeaheadOptionsInScrollableView",8),m.\u0275\u0275advance(3),m.\u0275\u0275property("disabled",null===t.newCreator),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(14,26,"admin.BUTTON_AddAdmin",t.locale.language)," "),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngForOf",t.creators),m.\u0275\u0275advance(9),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind2(27,29,"admin.TXT_NewGroup",t.locale.language)),m.\u0275\u0275property("ngModel",t.newSecurityGroupName),m.\u0275\u0275advance(3),m.\u0275\u0275property("disabled",0===t.newSecurityGroupName.length),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(32,32,"admin.TXT_AddNewGroup",t.locale.language),""),m.\u0275\u0275advance(5),m.\u0275\u0275property("ngModel",t.selectedSecurityGroup),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngValue",null),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",e),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngIf",t.selectedSecurityGroup),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.selectedSecurityGroup),m.\u0275\u0275advance(19),m.\u0275\u0275property("ngForOf",m.\u0275\u0275pipeBind1(64,37,t.charts$)),m.\u0275\u0275advance(13),m.\u0275\u0275property("ngModel",t.globalExternalUsersSetting),m.\u0275\u0275advance(1),m.\u0275\u0275property("value",!1),m.\u0275\u0275advance(2),m.\u0275\u0275property("value",!0),m.\u0275\u0275advance(13),m.\u0275\u0275property("ngForOf",m.\u0275\u0275pipeBind1(93,39,t.charts$))}},directives:[v.L10nTranslateDirective,f.DefaultValueAccessor,f.NgControlStatus,f.NgModel,y.TypeaheadDirective,E.NgForOf,f.SelectControlValueAccessor,f.NgSelectOption,f.\u0275angular_packages_forms_forms_x,b.NgrxSelectMultipleOption,b.NgrxSelectOption,b.NgrxFallbackSelectOption,E.NgIf],pipes:[v.L10nTranslatePipe,E.AsyncPipe,x.CallbackPipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},jkDv:function(e,t,n){var r,a;r=[n,t,n("ofXK"),n("kt0X"),n("snw9"),n("3Pt+"),n("7pIB"),n("qCdp"),n("zY6w"),n("R9Cn"),n("PCNd"),n("Cqpf"),n("CQUn"),n("0Em7"),n("atpF"),n("Mfq2"),n("Dvla"),n("fXoL"),n("kt0X"),n("snw9"),n("Mfq2")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p,d,m,u,S,g,h,v,f,y,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class b{}t.AdminModule=b,b.\u0275mod=v.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=v.\u0275\u0275defineInjector({factory:function(e){return new(e||b)},providers:[m.AdminService],imports:[[n.CommonModule,u.AdminRoutingModule,r.StoreModule.forFeature("admin",l.reducer),a.EffectsModule.forFeature([d.AdminEffects]),g.TooltipModule.forRoot(),o.FileUploadModule,i.FormsModule,S.NgrxFormsModule,p.SharedModule,s.TypeaheadModule,c.ColorPickerModule,h.ClipboardModule]]})}).apply(t,r))||(e.exports=a)},lC1S:function(e,t,n){var r,a;r=[n,t,n("1ATV"),n("kt0X"),n("qCKp"),n("zY6w"),n("L5B3"),n("kU1M"),n("DIoI"),n("fXoL"),n("kt0X"),n("1ATV"),n("ofXK"),n("3Pt+"),n("atpF")],void 0===(a=(function(e,t,n,r,a,i,o,s,l,c,p,d,m,u,S){"use strict";function g(e,t){if(1&e){const e=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",17),c.\u0275\u0275listener("click",(function(t){c.\u0275\u0275restoreView(e);const n=c.\u0275\u0275nextContext().$implicit;return c.\u0275\u0275nextContext(2).removeSource(n.InformationSourceId)})),c.\u0275\u0275text(1,"\xd7"),c.\u0275\u0275elementEnd()}}function h(e,t){if(1&e){const e=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"tr",14),c.\u0275\u0275listener("click",(function(n){c.\u0275\u0275restoreView(e);const r=t.$implicit,a=c.\u0275\u0275nextContext(2);return r.CanEdit&&a.editSource(r.InformationSourceId)})),c.\u0275\u0275elementStart(1,"td"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"td"),c.\u0275\u0275text(4),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"td"),c.\u0275\u0275text(6),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(7,"td"),c.\u0275\u0275elementStart(8,"button",15),c.\u0275\u0275listener("click",(function(n){c.\u0275\u0275restoreView(e);const r=t.$implicit;return c.\u0275\u0275nextContext(2).testInformationSource(r.InformationSourceId)})),c.\u0275\u0275text(9," admin.TXT_ISTestConnection "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"td"),c.\u0275\u0275template(11,g,2,0,"button",16),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;c.\u0275\u0275styleProp("cursor",e.CanEdit?"pointer":""),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(e.SourceName),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(e.FriendlyTypeName),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(e.Description),c.\u0275\u0275advance(5),c.\u0275\u0275property("ngIf",e.CanEdit)}}function v(e,t){if(1&e&&(c.\u0275\u0275elementStart(0,"div",11),c.\u0275\u0275elementStart(1,"table",12),c.\u0275\u0275elementStart(2,"thead"),c.\u0275\u0275elementStart(3,"tr"),c.\u0275\u0275elementStart(4,"th"),c.\u0275\u0275text(5),c.\u0275\u0275pipe(6,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(7,"th"),c.\u0275\u0275text(8),c.\u0275\u0275pipe(9,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(10,"th"),c.\u0275\u0275elementStart(11,"th"),c.\u0275\u0275text(12),c.\u0275\u0275pipe(13,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(14,"th"),c.\u0275\u0275text(15),c.\u0275\u0275pipe(16,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(17,"tbody"),c.\u0275\u0275template(18,h,12,6,"tr",13),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&e){const e=c.\u0275\u0275nextContext();c.\u0275\u0275advance(5),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(6,5,"admin.TXT_ISSource",e.locale.language)),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(9,8,"admin.TXT_ISSourceType",e.locale.language)),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(13,11,"admin.TXT_ISTestSource",e.locale.language)),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(16,14,"admin.TXT_ISDelete",e.locale.language)),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngForOf",e.sources)}}function f(e,t){if(1&e){const e=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div"),c.\u0275\u0275elementStart(1,"label",29),c.\u0275\u0275text(2,"Connection String"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"input",21),c.\u0275\u0275listener("ngModelChange",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext(2).selectedSource.ConnectionString=t})),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"label",30),c.\u0275\u0275text(5,"Query"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(6,"textarea",21),c.\u0275\u0275listener("ngModelChange",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext(2).selectedSource.Query=t})),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&e){const e=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(3),c.\u0275\u0275property("ngModel",e.selectedSource.ConnectionString),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngModel",e.selectedSource.Query)}}function y(e,t){if(1&e&&(c.\u0275\u0275elementStart(0,"option",38),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",e.Name,"")}}function E(e,t){1&e&&c.\u0275\u0275element(0,"option",39),2&e&&c.\u0275\u0275property("value",t.$implicit.value)}function b(e,t){if(1&e){const e=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div"),c.\u0275\u0275elementStart(1,"div",7),c.\u0275\u0275elementStart(2,"div",31),c.\u0275\u0275elementStart(3,"label",32),c.\u0275\u0275text(4,"SharePoint Lists"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"select",33),c.\u0275\u0275listener("ngModelChange",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext(2).updateFieldList()})),c.\u0275\u0275template(6,y,2,1,"option",34),c.\u0275\u0275pipe(7,"async"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"div",31),c.\u0275\u0275elementStart(9,"label",35),c.\u0275\u0275text(10,"Field"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(11,"select",36),c.\u0275\u0275listener("ngModelChange",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext(2).selectedSharePointFieldId=t})),c.\u0275\u0275template(12,E,1,1,"option",37),c.\u0275\u0275pipe(13,"keyvalue"),c.\u0275\u0275pipe(14,"async"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&e){const e=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(5),c.\u0275\u0275property("ngModel",e.selectedListId),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngForOf",c.\u0275\u0275pipeBind1(7,4,e.sharePointLists$)),c.\u0275\u0275advance(5),c.\u0275\u0275property("ngModel",e.selectedSharePointFieldId),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngForOf",c.\u0275\u0275pipeBind1(13,6,c.\u0275\u0275pipeBind1(14,8,e.sharePointListFields$)))}}function x(e,t){if(1&e){const e=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",8),c.\u0275\u0275elementStart(1,"div"),c.\u0275\u0275elementStart(2,"div",18),c.\u0275\u0275elementStart(3,"div",7),c.\u0275\u0275elementStart(4,"div",19),c.\u0275\u0275elementStart(5,"label",20),c.\u0275\u0275text(6,"Source Name"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(7,"input",21),c.\u0275\u0275listener("ngModelChange",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext().selectedSource.SourceName=t})),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"div",22),c.\u0275\u0275elementStart(9,"label"),c.\u0275\u0275text(10,"SQL or List"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(11,"div",23),c.\u0275\u0275elementStart(12,"div",24),c.\u0275\u0275elementStart(13,"label"),c.\u0275\u0275elementStart(14,"input",25),c.\u0275\u0275listener("ngModelChange",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext().selectedSource.SourceType=t})),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(15," SQL Server "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(16,"div",24),c.\u0275\u0275elementStart(17,"label"),c.\u0275\u0275elementStart(18,"input",26),c.\u0275\u0275listener("ngModelChange",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext().selectedSource.SourceType=t})),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(19," SharePoint List "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(20,f,7,2,"div",27),c.\u0275\u0275template(21,b,15,10,"div",27),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(22,"br"),c.\u0275\u0275elementStart(23,"button",28),c.\u0275\u0275listener("click",(function(t){return c.\u0275\u0275restoreView(e),c.\u0275\u0275nextContext().saveSource()})),c.\u0275\u0275text(24," common.SAVE_CHANGES "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&e){const e=c.\u0275\u0275nextContext();c.\u0275\u0275advance(7),c.\u0275\u0275property("ngModel",e.selectedSource.SourceName),c.\u0275\u0275advance(7),c.\u0275\u0275property("ngModel",e.selectedSource.SourceType),c.\u0275\u0275advance(4),c.\u0275\u0275property("ngModel",e.selectedSource.SourceType),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf","SQLServer"==e.selectedSource.SourceType),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf","SharePointList"==e.selectedSource.SourceType)}}Object.defineProperty(t,"__esModule",{value:!0});class A{constructor(e,t){this.locale=e,this.store=t,this.sources=[],this.selectedSource=null,this.selectedListId=null,this.selectedSharePointFieldId=null,this.unsubscribe=new a.Subject,this.store.pipe(r.select(i.selectCompositeModel),s.takeUntil(this.unsubscribe)).subscribe(e=>{null!==e?this.sources=e.InformationSources.map(e=>Object.assign({},e)):this.store.dispatch(o.loadCompositeModel())}),this.store.pipe(r.select(i.selectSelectedSourceInfo),s.takeUntil(this.unsubscribe),s.filter(e=>null!==e)).subscribe(e=>{this.selectedSource.InformationSourceId===e.InformationSourceId&&(this.selectedSource=Object.assign({},e))}),this.store.pipe(r.select(i.selectDeletedSourceId),s.takeUntil(this.unsubscribe),s.filter(e=>null!==e)).subscribe(e=>{this.sources=this.sources.filter(t=>t.InformationSourceId!==e),this.store.dispatch(o.loadCompositeModel())}),this.store.pipe(r.select(i.selecteSavedSourceId),s.takeUntil(this.unsubscribe),s.filter(e=>null!==e)).subscribe(e=>{if(this.selectedSource){const t=this.sources.findIndex(t=>t.InformationSourceId===e);-1===t?(this.sources.push(Object.assign(Object.assign({},this.selectedSource),{InformationSourceId:e})),this.selectedSource=Object.assign({},this.sources.find(t=>t.InformationSourceId===e))):(this.sources[t]=Object.assign({},this.selectedSource),this.selectedSource=Object.assign({},this.sources[t]))}this.store.dispatch(o.clearSavedSourceId())}),this.sharePointLists$=this.store.pipe(r.select(i.selectSharePointLists)),this.sharePointListFields$=this.store.pipe(r.select(i.selectSharePointListFields))}ngOnInit(){}testInformationSource(e){this.store.dispatch(o.testInformationSource({id:e}))}newSource(){this.selectedSource={CanEdit:!1,ConnectionString:"",Description:"",FriendlyTypeName:"",InformationSourceId:"",Query:"",SharePointList:"",SharePointListColumn:"",SourceName:"",SourceType:"SQLServer"}}editSource(e){const t=this.sources.find(t=>t.InformationSourceId===e);t&&(this.selectedSource=Object.assign({},t)),this.store.dispatch(o.loadInformationSource({sourceId:e}))}removeSource(e){this.store.dispatch(o.deleteInformationSource({id:e}))}saveSource(){this.store.dispatch(null!==this.selectedSource?o.saveInformationSource({source:this.selectedSource}):new l.ToastError("Please select an existing or create a new source first"))}updateFieldList(){this.selectedListId&&this.store.dispatch(o.getSharePointListFields({id:this.selectedListId}))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}t.InformationSourcesComponent=A,A.\u0275fac=function(e){return new(e||A)(c.\u0275\u0275directiveInject(n.L10N_LOCALE),c.\u0275\u0275directiveInject(p.Store))},A.\u0275cmp=c.\u0275\u0275defineComponent({type:A,selectors:[["toc-admin-information-sources"]],decls:19,vars:10,consts:[[1,"container"],[1,"card"],[1,"section-heading"],[1,"suffix"],[1,"row","mb-2"],[1,"col-12","col-sm-6","col-md-4","col-xl-3"],["translate","admin.TXT_ISAddNew",1,"btn","btn-success",3,"click"],[1,"row"],[1,"col-12"],["class","table-responsive",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],[3,"cursor","click",4,"ngFor","ngForOf"],[3,"click"],["translate","admin.TXT_ISTestConnection",1,"btn","btn-success",3,"click"],["type","button","class","close",3,"click",4,"ngIf"],["type","button",1,"close",3,"click"],["ng-form","form"],["bs-has-error","",1,"col-12","col-sm-6","form-group"],["translate","admin.TXT_ISSource"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-6"],[1,"form-group"],[1,"radio"],["type","radio","name","sourceType","value","SQLServer",3,"ngModel","ngModelChange"],["type","radio","name","sourceType","value","SharePointList",3,"ngModel","ngModelChange"],[4,"ngIf"],["translate","common.SAVE_CHANGES",1,"btn","btn-success",3,"click"],["translate","admin.TXT_ISSourceCon"],["translate","admin.TXT_ISQuery"],[1,"col"],["translate","admin.TXT_ISSharePointLists"],[1,"form-control",3,"ngModel","ngModelChange"],["ng-value","option.Id",4,"ngFor","ngForOf"],["translate","admin.TXT_ISSharePointListFields"],["ng-change","updateSelectedField(SharePointFieldId)","ng-options","key as value  for (key, value) in SharePointListFields",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["ng-value","option.Id"],[3,"value"]],template:function(e,t){1&e&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275elementStart(1,"div",1),c.\u0275\u0275elementStart(2,"div",2),c.\u0275\u0275text(3),c.\u0275\u0275pipe(4,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"div",3),c.\u0275\u0275text(6),c.\u0275\u0275pipe(7,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"div",4),c.\u0275\u0275elementStart(9,"div",5),c.\u0275\u0275elementStart(10,"button",6),c.\u0275\u0275listener("click",(function(e){return t.newSource()})),c.\u0275\u0275text(11,"admin.TXT_ISAddNew"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(12,"div",7),c.\u0275\u0275elementStart(13,"div",8),c.\u0275\u0275template(14,v,19,17,"div",9),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(15,"br"),c.\u0275\u0275element(16,"br"),c.\u0275\u0275elementStart(17,"div",7),c.\u0275\u0275template(18,x,25,5,"div",10),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&e&&(c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(4,4,"admin.TXT_InformationSource",t.locale.language)),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind2(7,7,"admin.TXT_InformationSourceDesc",t.locale.language)),c.\u0275\u0275advance(8),c.\u0275\u0275property("ngIf",t.sources.length>0),c.\u0275\u0275advance(4),c.\u0275\u0275property("ngIf",t.selectedSource))},directives:[d.L10nTranslateDirective,m.NgIf,m.NgForOf,u.DefaultValueAccessor,u.RequiredValidator,u.NgControlStatus,u.NgModel,u.RadioControlValueAccessor,u.SelectControlValueAccessor,u.NgSelectOption,u.\u0275angular_packages_forms_forms_x,S.NgrxSelectMultipleOption,S.NgrxSelectOption,S.NgrxFallbackSelectOption],pipes:[d.L10nTranslatePipe,m.AsyncPipe,m.KeyValuePipe],encapsulation:2})}).apply(t,r))||(e.exports=a)},vum2:function(e,t,n){var r,a;r=[n,t,n("fXoL")],void 0===(a=(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){}ngOnInit(){}}t.ApiGuideComponent=r,r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["toc-api-guide"]],decls:76,vars:0,consts:[[1,"container"],[1,"card"],[1,"lead"],["src","/img/zapier/Picture1.png","alt","creating an api key",1,"img-fluid"],["src","/img/zapier/Picture2.png","alt","add api key",1,"img-fluid"],["src","/img/zapier/Picture3.png","alt","testing the api",1,"img-fluid"],["src","/img/zapier/Picture4.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture5.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture6.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture7.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture8.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture9.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture10.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture10_2.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture11.png","alt","using the api key",1,"img-fluid"],["href","https://teamorgchart.com/v1/data/CHART_ID"],["src","/img/zapier/Picture12.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture13.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture14.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture15.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture16.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture17.png","alt","using the api key",1,"img-fluid"],["src","/img/zapier/Picture18.png","alt","using the api key",1,"img-fluid"]],template:function(e,t){1&e&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275elementStart(1,"div",1),n.\u0275\u0275elementStart(2,"h1"),n.\u0275\u0275text(3,"Zapier Integration Guide"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"p",2),n.\u0275\u0275text(5,"This guide shows how to create a simple Zap to update a chart from a Google Sheets document."),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"h2"),n.\u0275\u0275text(7,"Creating an API key"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"p"),n.\u0275\u0275text(9,"In order to authenticate API requests the caller needs to provide an API key in an HTTP header \u201cX-API-Key\u201d. API keys can be issued and revoked on \u201cAdmin\u201d-\u201cAPI\u201d page."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(10,"img",3),n.\u0275\u0275elementStart(11,"p"),n.\u0275\u0275text(12,"Click \u201cAdd API Key\u201d button to issue a new API key. The new key will appear in the table below. Please copy the key value immediately \u2013 it will only be displayed once since it\u2019s not being stored on TeamOrgChart\u2019s servers in plain text."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(13,"img",4),n.\u0275\u0275elementStart(14,"h2"),n.\u0275\u0275text(15,"Testing the API"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(16,"p"),n.\u0275\u0275text(17,"Click the \u201cAPI Documentation\u201d link to open Swagger UI page. This page allows you to make calls to the API directly from your web browser."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(18,"img",5),n.\u0275\u0275elementStart(19,"p"),n.\u0275\u0275text(20,"Paste the value of created API key into the \u201capi_key\u201d field. Click \u201cChartsApi\u201d to open a list of operations available in this category."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(21,"img",6),n.\u0275\u0275elementStart(22,"p"),n.\u0275\u0275text(23,"We\u2019re going to use GET all charts call, the first in the list. Click on the operation to open detailed information."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(24,"img",7),n.\u0275\u0275elementStart(25,"p"),n.\u0275\u0275text(26,"The only required parameter for this operation is \u201cversion\u201d, enter \u201c1\u201d as the value and click \u201cTry it out!\u201d. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(27,"p"),n.\u0275\u0275text(28,"Upon successful request you\u2019ll see the response body, code and headers. Response body contains JSON representation of the list of charts available in your organization."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(29,"img",8),n.\u0275\u0275elementStart(30,"h2"),n.\u0275\u0275text(31,"Creating a Zapier integration to update a chart from a Google Spreadsheet."),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(32,"p"),n.\u0275\u0275text(33,"First, let\u2019s create a chart to hold imported data. Go to \u201cCreate new org chart\u201d screen. Enter a name for the new chart and choose \u201cLoad from a spreadsheet\u201d as chart type: "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(34,"img",9),n.\u0275\u0275elementStart(35,"p"),n.\u0275\u0275text(36,"Get chart ID from the URL of the view chart page:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(37,"img",10),n.\u0275\u0275elementStart(38,"p"),n.\u0275\u0275text(39,"In my case it\u2019s \u201c5765a62a-11a0-49f4-9ca9-88020ec3b10c\u201d. Save this value for later. Go to Zapier.com\u2019s dashboard and open My Zaps. Click Make a Zap! to create a new integration. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(40,"img",11),n.\u0275\u0275elementStart(41,"p"),n.\u0275\u0275text(42,"Choose Google Sheets as a source event. Choose \u201cNew spreadsheet row\u201d as a trigger event."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(43,"img",12),n.\u0275\u0275elementStart(44,"p"),n.\u0275\u0275text(45,"Press continue and log in to Google, choose a source spreadsheet and and a worksheet inside the spreadsheet. The spreadsheet should contain a header row with fields for Unique item ID, Manager ID, Display name, job title and any other data required."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(46,"img",13),n.\u0275\u0275elementStart(47,"p"),n.\u0275\u0275text(48,"Press \u201cEdit\u201d next to \u201cDo this \u2026\u201d. Select \u201cWebhooks by Zapier\u201d as an App and POST as an action event: "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(49,"img",14),n.\u0275\u0275elementStart(50,"p"),n.\u0275\u0275text(51," Press continue and enter TeamOrgChart API call data: URL \u2013 "),n.\u0275\u0275elementStart(52,"a",15),n.\u0275\u0275text(53,"https://teamorgchart.com/v1/data/CHART_ID"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(54,"."),n.\u0275\u0275element(55,"br"),n.\u0275\u0275text(56," Substitute CHART_ID with the ID of the chart you wish to use as a sync target. Choose JSON as payload type. Map your spreadsheet columns data to JSON using Data table: "),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(57,"img",16),n.\u0275\u0275elementStart(58,"p"),n.\u0275\u0275text(59,"At the bottom of the settings panel enter a new header name \u201cX-API-Key\u201d and paste your API key as a value."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(60,"img",17),n.\u0275\u0275elementStart(61,"p"),n.\u0275\u0275text(62,"That\u2019s it! Turn you Zap on and add a row to your spreadsheet."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(63,"img",18),n.\u0275\u0275elementStart(64,"p"),n.\u0275\u0275text(65,"Add a row to your spreadsheet and check previously created chart on teamorgchart.com:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(66,"img",19),n.\u0275\u0275elementStart(67,"p"),n.\u0275\u0275text(68,"The box is there but it\u2019s empty since TeamOrgChart doesn\u2019t know which columns to display. Pick \u201cChoose box contents\u201d in the menu above the chart."),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(69,"img",20),n.\u0275\u0275elementStart(70,"p"),n.\u0275\u0275text(71,"Choose columns you whish to be displayed in the chart box and click Save:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(72,"img",21),n.\u0275\u0275elementStart(73,"p"),n.\u0275\u0275text(74,"Go back to the chart:"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(75,"img",22),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd())},encapsulation:2})}).apply(t,r))||(e.exports=a)},zY6w:function(e,t,n){var r,a;r=[n,t,n("mrSG"),n("kt0X"),n("L5B3"),n("atpF")],void 0===(a=(function(e,t,n,r,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialAppearanceFormState=i.createFormGroupState("appearance_form_id",{brandColor:"#000000",theme:"Light",footerText:""}),t.initialState={compositeModel:null,isFetching:!1,appearanceForm:t.initialAppearanceFormState,selectedSecurityGroupId:0,availableEntries:null,charts:null,chartRequests:{},chartExternalRequests:{},disableCacheSetting:null,selectedSourceInfo:null,deletedSourceId:null,savedSourceId:null,sharePointLists:[],sharePointListFields:[],apiKeys:[]};const o=r.createReducer(t.initialState,i.onNgrxForms(),r.on(a.setAppearanceFormFromCompositeModel,(e,{model:n})=>Object.assign(Object.assign({},e),{appearanceForm:i.createFormGroupState("appearance_form_id",Object.assign(Object.assign({},t.initialAppearanceFormState),{brandColor:n.Settings.CustomColour,theme:n.Settings.CustomThemeName,footerText:n.Settings.CustomFooterText}))})),r.on(a.saveAppearanceSuccess,e=>(window.location.reload(),e)),r.on(a.loadCompositeModel,e=>Object.assign(Object.assign({},e),{isFetching:!0})),r.on(a.loadCompositeModelFailure,e=>Object.assign(Object.assign({},e),{isFetching:!1})),r.on(a.loadCompositeModelSuccess,(e,{model:t})=>Object.assign(Object.assign({},e),{compositeModel:t,isFetching:!1})),r.on(a.saveCreatorsSuccess,(e,{creators:t})=>Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{Creators:t})})),r.on(a.createSecurityGroupSuccess,(e,{group:t})=>Object.assign(Object.assign({},e),{selectedSecurityGroupId:t.Id,compositeModel:Object.assign(Object.assign({},e.compositeModel),{SecurityGroups:[...e.compositeModel.SecurityGroups,t]})})),r.on(a.removeSecurityGroupSuccess,(e,{groups:t})=>Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{SecurityGroups:t})})),r.on(a.loadCompanyGroupsSuccess,(e,{entries:t})=>Object.assign(Object.assign({},e),{availableEntries:t})),r.on(a.addSecurityGroupEntrySuccess,a.removeSecurityGroupEntrySuccess,(e,{group:t})=>Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{SecurityGroups:e.compositeModel.SecurityGroups.map(e=>e.Id===t.Id?t:e)})})),r.on(a.saveGlobalExternalSettingSuccess,(e,{value:t})=>Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{GlobalExternalUsersSetting:t})})),r.on(a.saveExternalUsersSettingSuccess,(e,{chart:t})=>{const r=t.id,a=n.__rest(e.chartExternalRequests,["symbol"==typeof r?r:r+""]);return Object.assign(Object.assign({},e),{charts:e.charts.map(e=>e.id===t.id?Object.assign(Object.assign({},e),{areExternalUsersAllowed:t.areExternalUsersAllowed}):e),chartExternalRequests:a})}),r.on(a.saveExternalUsersSetting,(e,{chart:t})=>Object.assign(Object.assign({},e),{chartExternalRequests:Object.assign(Object.assign({},e.chartExternalRequests),{[t.id]:{}})})),r.on(a.saveChart,(e,{chart:t})=>Object.assign(Object.assign({},e),{chartRequests:Object.assign(Object.assign({},e.chartExternalRequests),{[t.id]:{}})})),r.on(a.saveChartSuccess,a.saveChartFailure,(e,{chart:t})=>{const r=t.id,a=n.__rest(e.chartRequests,["symbol"==typeof r?r:r+""]);return Object.assign(Object.assign({},e),{chartRequests:a,charts:e.charts.map(e=>e.id===t.id?t:e)})}),r.on(a.loadChartsSuccess,(e,{charts:t})=>Object.assign(Object.assign({},e),{charts:t.map(e=>Object.assign({},e))})),r.on(a.saveAdminEmailSuccess,(e,{AdminEmail:t,CompanyName:n})=>Object.assign(Object.assign({},e),{compositeModel:Object.assign(Object.assign({},e.compositeModel),{AdminEmailAndCompanyName:{AdminEmail:t,CompanyName:n}})})),r.on(a.loadCacheSettingSuccess,(e,{value:t})=>Object.assign(Object.assign({},e),{disableCacheSetting:t})),r.on(a.saveCacheSettingSuccess,(e,{value:t})=>Object.assign(Object.assign({},e),{disableCacheSetting:t})),r.on(a.loadInformationSourceSuccess,(e,{source:t})=>Object.assign(Object.assign({},e),{selectedSourceInfo:t})),r.on(a.deleteInformationSourceSuccess,(e,{id:t,result:n})=>Object.assign(Object.assign({},e),{deletedSourceId:n?t:null})),r.on(a.saveInformationSourceSuccess,(e,{id:t,result:n})=>n?Object.assign(Object.assign({},e),{savedSourceId:t}):e),r.on(a.clearSavedSourceId,e=>Object.assign(Object.assign({},e),{savedSourceId:null})),r.on(a.getSharePointListsSuccess,(e,{lists:t})=>Object.assign(Object.assign({},e),{sharePointLists:t})),r.on(a.getSharePointListFieldsSuccess,(e,{fields:t})=>Object.assign(Object.assign({},e),{sharePointListFields:t})),r.on(a.loadApiKeysSuccess,(e,{apiKeys:t})=>Object.assign(Object.assign({},e),{apiKeys:t})),r.on(a.createApiKeySuccess,(e,{apiKey:t})=>Object.assign(Object.assign({},e),{apiKeys:[...e.apiKeys,t]})),r.on(a.revokeApiKeySuccess,(e,{id:t})=>Object.assign(Object.assign({},e),{apiKeys:e.apiKeys.filter(e=>e.Id!==t)})));t.reducer=function(e,t){return o(e,t)},t.selectAdmin=e=>e.admin,t.selectCompositeModel=r.createSelector(t.selectAdmin,e=>e.compositeModel),t.selectAppearanceFormState=r.createSelector(t.selectAdmin,e=>e.appearanceForm),t.selectSelectedSecurityGroupId=r.createSelector(t.selectAdmin,e=>e.selectedSecurityGroupId),t.selectAvailableEntries=r.createSelector(t.selectAdmin,e=>e.availableEntries),t.selectCharts=r.createSelector(t.selectAdmin,e=>e.charts),t.selectChartRequests=r.createSelector(t.selectAdmin,e=>e.chartRequests),t.selectChartExternalRequests=r.createSelector(t.selectAdmin,e=>e.chartExternalRequests),t.selectDisableCacheSetting=r.createSelector(t.selectAdmin,e=>e.disableCacheSetting),t.selectSelectedSourceInfo=r.createSelector(t.selectAdmin,e=>e.selectedSourceInfo),t.selectApiKeys=r.createSelector(t.selectAdmin,e=>e.apiKeys),t.selectDeletedSourceId=r.createSelector(t.selectAdmin,e=>e.deletedSourceId),t.selecteSavedSourceId=r.createSelector(t.selectAdmin,e=>e.savedSourceId),t.selectSharePointLists=r.createSelector(t.selectAdmin,e=>e.sharePointLists),t.selectSharePointListFields=r.createSelector(t.selectAdmin,e=>e.sharePointListFields)}).apply(t,r))||(e.exports=a)}}]);